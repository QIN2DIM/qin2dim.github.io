<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='一键部署可以直接使用的云端程序'><title>『Blog』Stable Diffusion 敏捷部署</title>
<link rel=canonical href=https://blog.echosec.top/p/stable-diffusion-lora-build/><link rel=stylesheet href=/scss/style.min.00066413cf5b11ff83f68f901cd98368c0b2d6327b373ddf957666a5c4d92db2.css><meta property='og:title' content='『Blog』Stable Diffusion 敏捷部署'><meta property='og:description' content='一键部署可以直接使用的云端程序'><meta property='og:url' content='https://blog.echosec.top/p/stable-diffusion-lora-build/'><meta property='og:site_name' content='Echosec @QIN2DIM'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='AIGC'><meta property='article:tag' content='lora'><meta property='article:tag' content='stable-diffusion'><meta property='article:tag' content='chilloutmixni'><meta property='article:tag' content='stable-diffusion-webui'><meta property='article:published_time' content='2023-03-02T12:58:57+08:00'><meta property='article:modified_time' content='2023-03-02T12:58:57+08:00'><meta property='og:image' content='https://blog.echosec.top/p/stable-diffusion-lora-build/rashed-alakroka-2b3s.jpg'><meta name=twitter:site content="@Alkaid20860233"><meta name=twitter:creator content="@Alkaid20860233"><meta name=twitter:title content="『Blog』Stable Diffusion 敏捷部署"><meta name=twitter:description content="一键部署可以直接使用的云端程序"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://blog.echosec.top/p/stable-diffusion-lora-build/rashed-alakroka-2b3s.jpg'><link rel="shortcut icon" href=https://cdn.jsdelivr.net/gh/qin2dim/cdn-relay@main/avatars/watercolour-4817390__480.jpg><link rel=stylesheet href=//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css><script async src=https://busuanzi.icodeq.com/busuanzi.pure.mini.js></script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/62018067_hu01b1850304f2a433574ed2470395348a_321911_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🎯</span></figure><div class=site-meta><h1 class=site-name><a href=/>Echosec @QIN2DIM</a></h1><h2 class=site-description>A Creator from China.</h2></div></header><ol class=social-menu><li><a href=https://github.com/QIN2DIM target=_blank title=GitHub><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/Tk206_ target=_blank title=Twitter><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li><li><a href=https://nav.echosec.top target=_blank title=Navigator><!doctype html><svg t="1635028836276" class="icon" viewBox="0 0 1024 1024" p-id="9207" width="128" height="128" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style/></defs><path d="M782.802 129.086c3.079.0 5.884 2.805 5.884 5.884v744.58L561.591 601.177 512 540.387l-49.591 60.789-227.095 278.375v-744.58c0-3.08 2.805-5.884 5.884-5.884h541.604m0-64.001H241.198c-38.436.0-69.884 31.448-69.884 69.884v768.729c.276 33.712 27.781 55.214 56.065 55.214 15.368.0 30.969-6.353 42.548-20.546L512 641.633 753.023 937.08c11.68 14.317 27.793 20.773 43.661 20.773 28.115.0 55.458-20.27 55.993-53.003.006-.383.009-.767.009-1.151V134.971c0-38.437-31.447-69.885-69.884-69.885z" p-id="9208" fill="#bababa"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/links><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/archives><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><div class=menu-bottom-section><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://blog.echosec.top/ selected></option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></div></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/stable-diffusion-lora-build/><img src=/p/stable-diffusion-lora-build/rashed-alakroka-2b3s_hu4d99951df32ba2de47679c6fd57b6d29_458829_800x0_resize_q75_box.jpg srcset="/p/stable-diffusion-lora-build/rashed-alakroka-2b3s_hu4d99951df32ba2de47679c6fd57b6d29_458829_800x0_resize_q75_box.jpg 800w, /p/stable-diffusion-lora-build/rashed-alakroka-2b3s_hu4d99951df32ba2de47679c6fd57b6d29_458829_1600x0_resize_q75_box.jpg 1600w" width=800 height=474 loading=lazy alt="Featured image of post 『Blog』Stable Diffusion 敏捷部署"></a></div><div class=article-details><header class=article-category><a href=/categories/bot-revolution/ style=background-color:#faabb9;color:#fff>Bot Revolution</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/stable-diffusion-lora-build/>『Blog』Stable Diffusion 敏捷部署</a></h2><h3 class=article-subtitle>一键部署可以直接使用的云端程序</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2023-03-02</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 7 分钟</time></div></footer></div></header><section class=article-content><h2 id=preview>Preview</h2><p>在开始本教程之前，请确保你已经注册了谷歌账号，能够科学上网，并且了解 Colaboratory 的基本功能。</p><p>如果你是从未尝试过 Stable Diffusion 的新手用户，我们提供了本方法，让你轻松上手。如果你拥有足够强大的 GPU 计算能力、内存和硬盘空间，你还可以将 Stable Diffusion 部署到本地，这将使整个生产过程更加安全可靠。</p><p>本教程会带你领略 AIGC-2023 的曼妙世界，以 ChilloutMix & LoRA 基本模型为切入点，帮助你踏入 AI 应用领域。</p><h2 id=quick-start>Quick Start</h2><ol><li><p>前往网站 <a class=link href="https://colab.research.google.com/#scrollTo=htsbKCbpmm-h" target=_blank rel=noopener>Colaboratory</a>。</p></li><li><p>点击「查看资源」，进入「更改运行时类型」设置，选择「硬件加速器」，并选用 <strong>GPU</strong>。</p></li><li><p>等待连接成功后，重新查看资源信息。如果发现出现了 <strong>GPU RAM</strong> 图表，说明成功启用了 GPU 加速器。</p><p>免费用户默认使用 CPU 实例，但是对于 AI 图片生成等复杂任务，CPU 的算力已无法胜任。也即，必须启用 GPU 才能顺利运行和部署 Cloud-based Stable Diffusion。</p></li></ol><p><img src=/p/stable-diffusion-lora-build/image-20230302134448398.png width=1148 height=773 srcset="/p/stable-diffusion-lora-build/image-20230302134448398_hu4e412588ffd011e9f50f0db596dcbb8e_96875_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230302134448398_hu4e412588ffd011e9f50f0db596dcbb8e_96875_1024x0_resize_box_3.png 1024w" loading=lazy alt="Colaboratory - Switch to GPU" class=gallery-image data-flex-grow=148 data-flex-basis=356px></p><h3 id=部署脚本>部署脚本</h3><p>回到 Colaboratory，新建代码块，贴入如下代码安装依赖，预计耗时 3~5 分钟。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=err>!</span><span class=n>pip</span> <span class=n>install</span> <span class=o>--</span><span class=n>upgrade</span> <span class=n>fastapi</span><span class=o>==</span><span class=mf>0.90.1</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>git</span> <span class=n>clone</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>github</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>AUTOMATIC1111</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>git</span> <span class=n>clone</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>github</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>yfszzx</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>-</span><span class=n>images</span><span class=o>-</span><span class=n>browser</span> <span class=o>/</span><span class=n>content</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>/</span><span class=n>extensions</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>-</span><span class=n>images</span><span class=o>-</span><span class=n>browser</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>git</span> <span class=n>clone</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>github</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>dtlnor</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>-</span><span class=n>localization</span><span class=o>-</span><span class=n>zh_CN</span> <span class=o>/</span><span class=n>content</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>/</span><span class=n>extensions</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>-</span><span class=n>localization</span><span class=o>-</span><span class=n>zh_CN</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>git</span> <span class=n>clone</span> <span class=s2>&#34;https://github.com/canisminor1990/sd-web-ui-kitchen-theme&#34;</span> <span class=o>/</span><span class=n>content</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>/</span><span class=n>extensions</span><span class=o>/</span><span class=n>kitchen</span><span class=o>-</span><span class=n>theme</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>curl</span> <span class=o>-</span><span class=n>Lo</span> <span class=n>chilloutmixni</span><span class=o>.</span><span class=n>safetensors</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>huggingface</span><span class=o>.</span><span class=n>co</span><span class=o>/</span><span class=n>nolanaatama</span><span class=o>/</span><span class=n>chomni</span><span class=o>/</span><span class=n>resolve</span><span class=o>/</span><span class=n>main</span><span class=o>/</span><span class=n>chomni</span><span class=o>.</span><span class=n>safetensors</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>curl</span> <span class=o>-</span><span class=n>Lo</span> <span class=n>ulzzang</span><span class=o>-</span><span class=mf>6500.</span><span class=n>pt</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>huggingface</span><span class=o>.</span><span class=n>co</span><span class=o>/</span><span class=n>nolanaatama</span><span class=o>/</span><span class=n>chomni</span><span class=o>/</span><span class=n>resolve</span><span class=o>/</span><span class=n>main</span><span class=o>/</span><span class=n>ulzzang</span><span class=o>-</span><span class=mf>6500.</span><span class=n>pt</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>mv</span> <span class=s2>&#34;/content/chilloutmixni.safetensors&#34;</span> <span class=s2>&#34;/content/stable-diffusion-webui/models/Stable-diffusion&#34;</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>mv</span> <span class=s2>&#34;/content/ulzzang-6500.pt&#34;</span> <span class=s2>&#34;/content/stable-diffusion-webui/embeddings&#34;</span>
</span></span><span class=line><span class=cl><span class=o>%</span><span class=n>cd</span> <span class=o>/</span><span class=n>content</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>COMMANDLINE_ARGS</span><span class=o>=</span><span class=s2>&#34;--share --disable-safe-unpickle --skip-torch-cuda-test --no-half-vae --xformers --reinstall-xformers --enable-insecure-extension-access&#34;</span> <span class=n>REQS_FILE</span><span class=o>=</span><span class=s2>&#34;requirements.txt&#34;</span> <span class=n>python</span> <span class=n>launch</span><span class=o>.</span><span class=n>py</span>
</span></span></code></pre></td></tr></table></div></div><p>安装完成后，控制台会输出部署到 Gradio 的 <a class=link href=https://github.com/yfszzx/stable-diffusion-webui-images-browser target=_blank rel=noopener>stable-diffusion-webui</a> 的公共访问链接，该链接有效期为72小时，如下图所示。请新建一个标签页访问链接。</p><p>请注意，不要关闭此 Shell 控制台或 Colab 标签页，否则 WebUI 服务将直接中断。</p><p><img src=/p/stable-diffusion-lora-build/image-20230302131732303.png width=643 height=52 srcset="/p/stable-diffusion-lora-build/image-20230302131732303_hue2706b7474d3d6805e1bdbcf661510cf_13274_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230302131732303_hue2706b7474d3d6805e1bdbcf661510cf_13274_1024x0_resize_box_3.png 1024w" loading=lazy alt="Stable Diffusion WebUI" class=gallery-image data-flex-grow=1236 data-flex-basis=2967px></p><h3 id=输入咒语>输入咒语</h3><p>访问你的 Gradio 控制台，进入 <code>txt2img</code> 炼金炉，在上方 <strong>prompt</strong> 输入如下咒语：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>(realistic, photo-realistic:1.37), (8k, RAW photo, best quality, masterpiece:1.2), pink eyes, cute, ultra-detailed, heart-shaped pupils, physically-based rendering, ultra high res, front lighting, looking at viewer, photorealistic, realistic, solo, photorealistic, best quality, extremely detailed face, extremely detailed eyes and face, beautiful detailed eyes, absurdres, incredibly absurdres, Messy hair, floating hair, green hair, close-up, portrait, 
</span></span></code></pre></td></tr></table></div></div><p>在下方 <strong>Negative prompt</strong> 输入如下咒语：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>EasyNegative, paintings, sketches, (worst quality:2), (low quality:2), (normal quality:2), lowres, normal quality, ((monochrome)), ((grayscale)), skin spots, acnes, skin blemishes, age spot, glans,extra fingers,fewer fingers,strange fingers,bad hand,backlight, (worst quality, low quality:1.4), watermark, logo, bad anatomy, nude, topless, fat,EasyNegative,
</span></span></code></pre></td></tr></table></div></div><p>以上两个提示语的作用顾名思义。本文提供的内容仅供参考，您也可以在部署后自行探索，或者参考其他人留下的攻略。</p><p>这里有必要指出的 demo 中提到的关键内容，如「消极提示」中的 <code>bad hand</code>，<code>fingers</code>，<code>extra fingers</code>等词旨在抑制“花式输出”，而「积极提示」中的 <code>8k</code>，<code>ultra-detailed</code>则用于获取高度复杂的画面细节。</p><p>以下是其他参考参数：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>Handler</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Sampling method</span><span class=p>:</span><span class=w> </span><span class=l>DPM++ SDE Karr</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Sampling steps</span><span class=p>:</span><span class=w> </span><span class=m>20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Width</span><span class=p>:</span><span class=w> </span><span class=m>512</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Heigh</span><span class=p>:</span><span class=w> </span><span class=m>768</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Batch count</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Batch size</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>CFG Scale</span><span class=p>:</span><span class=w> </span><span class=m>7.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Seed</span><span class=p>:</span><span class=w> </span>-<span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Script</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>Checkbox</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Restore faces</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Tiling</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Hire.fix</span><span class=p>:</span><span class=w> </span><span class=kc>True</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>Hires.fix</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Upscaler</span><span class=p>:</span><span class=w> </span><span class=l>Latent(bicubic antialiased)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>upscale by</span><span class=p>:</span><span class=w> </span><span class=m>1.05</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Hires steps</span><span class=p>:</span><span class=w> </span><span class=m>15</span><span class=w>  </span><span class=c># 10~20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Denoising strength</span><span class=p>:</span><span class=w> </span><span class=m>0.7</span><span class=w>  </span><span class=c># 0.4~0.7</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>点击「<strong>Generate</strong>」开始念咒语！！！</p><p><img src=/p/stable-diffusion-lora-build/image-20230310180917831.png width=1916 height=1749 srcset="/p/stable-diffusion-lora-build/image-20230310180917831_hu27ac24d57a86b6216c7c78a45f58d125_726275_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230310180917831_hu27ac24d57a86b6216c7c78a45f58d125_726275_1024x0_resize_box_3.png 1024w" loading=lazy alt="First shot" class=gallery-image data-flex-grow=109 data-flex-basis=262px></p><h3 id=预览输出>预览输出</h3><p>点击图片渲染区的 「Save → Download」将图片缓存到本地目录。</p><p><img src=/p/stable-diffusion-lora-build/00000-1749898430.png width=536 height=800 srcset="/p/stable-diffusion-lora-build/00000-1749898430_hu8311890c8f0dc2847cc0fa5809a310bd_630432_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00000-1749898430_hu8311890c8f0dc2847cc0fa5809a310bd_630432_1024x0_resize_box_3.png 1024w" loading=lazy alt="ChilloutMix & LoRA" class=gallery-image data-flex-grow=67 data-flex-basis=160px></p><p>下面有更具可玩性的选项供您选择：</p><ol><li>如果您输出了组图，可以勾选多张图片并选择「Zip」来打包下载。</li><li>如果您对某张输出结果特别满意，可以选择「Send to img2img」，这样您就有了更多选择，例如进入 ControlNet 的神奇世界，基于人物骨骼进行二次创作。</li><li>如果您是专业画手，可以进入「Send to inpaint」页面，对 AIGC 的产出进行二次编辑。</li><li>最后，您可以选择「Send to Extras」，增强图片的细节，增加像素量或者延续创作风格，生成新的图片。</li></ol><p>本篇博客不讨论 Prompt 关键词及各种模型抑制参数的含义，如有兴趣，欢迎在 Google 上深入搜索。</p><h2 id=军火展示>军火展示</h2><p>我使用了另外的咒语输出了 8 张图片，可用率100%，效果还不错。</p><p>值得一提的是，如果您在控制台中进一步调整 upscale 参数，为图片填充像素量，使得单张图片输出大小在 2~5MB 范围内，图片信息量将提高到第一个甜点区。</p><p><img src=/p/stable-diffusion-lora-build/00001-3837281495.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00001-3837281495_hu113fde28fe725a41680bbd286205d3d6_601746_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00001-3837281495_hu113fde28fe725a41680bbd286205d3d6_601746_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00005-1671085026.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00005-1671085026_hu4f253d7d2c9c8de0192b71c7e3518e33_547793_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00005-1671085026_hu4f253d7d2c9c8de0192b71c7e3518e33_547793_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00004-255330288.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00004-255330288_huf1d8fbe7e338fa9f431e3c7c20610374_560279_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00004-255330288_huf1d8fbe7e338fa9f431e3c7c20610374_560279_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00002-1493913889.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00002-1493913889_hu81fd1c8e58d28d4c4faa5b20ecf7a1f6_512957_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00002-1493913889_hu81fd1c8e58d28d4c4faa5b20ecf7a1f6_512957_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px></p><p><img src=/p/stable-diffusion-lora-build/00006-2614156155.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00006-2614156155_hu910902d592f6cad23be2c1f5125d553b_578806_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00006-2614156155_hu910902d592f6cad23be2c1f5125d553b_578806_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00008-2386616295.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00008-2386616295_hub313c701a68e042ad0fe18c27a3b4b45_550110_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00008-2386616295_hub313c701a68e042ad0fe18c27a3b4b45_550110_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00007-4277602304.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00007-4277602304_hu974f6fb48d9a4548e7d1be893bc84bb5_543887_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00007-4277602304_hu974f6fb48d9a4548e7d1be893bc84bb5_543887_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00009-4003332370.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00009-4003332370_hu017ae11bb264072836f716d419762091_573642_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00009-4003332370_hu017ae11bb264072836f716d419762091_573642_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px></p><div class=table-wrapper><table><thead><tr><th style=text-align:center>Output</th><th style=text-align:left>Prompt</th></tr></thead><tbody><tr><td style=text-align:center><img src=/p/stable-diffusion-lora-build/00000-4075440443.png width=536 height=800 srcset="/p/stable-diffusion-lora-build/00000-4075440443_hu1767dfe74c03f194599f3c5b0cd1f671_675646_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00000-4075440443_hu1767dfe74c03f194599f3c5b0cd1f671_675646_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=67 data-flex-basis=160px></td><td style=text-align:left>a portrait of an old coal miner in 19th century, beautiful painting with highly detailed face by greg rutkowski and magali villanueve</td></tr><tr><td style=text-align:center><img src=/p/stable-diffusion-lora-build/00046-2123152317.png width=768 height=1152 srcset="/p/stable-diffusion-lora-build/00046-2123152317_hue572b4be88e3d57828b74afffde64eae_1459199_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00046-2123152317_hue572b4be88e3d57828b74afffde64eae_1459199_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px></td><td style=text-align:left>portrait photo of a homeless , color, Martin Schoeller, serious eyes, perfect eyes, cinematic, 80mm portrait photography, dramatic lighting photography, national geographic, portrait, photo, photography, Stoic, cinematic, 4k, epic, detailed photograph, shot on kodak detailed, bokeh, cinematic, hbo, dark moody, volumetric fog, minimal artifacts, inspired art by p. craig russell</td></tr><tr><td style=text-align:center><img src=/p/stable-diffusion-lora-build/image-20230310225342487.png width=536 height=800 srcset="/p/stable-diffusion-lora-build/image-20230310225342487_hu519abd4b61b1e2b2dac5ad3b8ecdd515_586263_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230310225342487_hu519abd4b61b1e2b2dac5ad3b8ecdd515_586263_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=67 data-flex-basis=160px></td><td style=text-align:left>(8k, RAW photo, best quality, masterpiece:1.2), (realistic, photo-realistic:1.37), ultra-detailed,full body,1 girl, solo,beautiful detailed sky,detailed tokyo street,night,beautiful detailed eyes,beautiful detailed lips,professional lighting, photon mapping, radiosity, physically-based rendering,extremely detailed eyes and face, beautiful detailed eyes,light on face,cinematic lighting, short jacket,hoodie,school uniform,1girl,full body,full-body shot,see-through,looking at viewer,outdoors,((white hair)),</td></tr></tbody></table></div><h2 id=拓展设置>拓展设置</h2><p>你应该注意到我们在代码块中导入了中文本地化的 WebUI 拓展，接下来，我们以<a class=link href=https://github.com/dtlnor/stable-diffusion-webui-localization-zh_CN target=_blank rel=noopener>stable-diffusion-webui-localization-zh_CN</a> 为例展示 Stable Diffusion WebUI 的灵活拓展能力。</p><p>请注意，我在发布本文后修改了代码块的初始化脚本，并引入了更美观的 UI 主题布局。因此，你看到的界面与下文展示的截图略有不同。</p><h3 id=下载拓展>下载拓展</h3><p>进入到 <strong>拓展 Extensions</strong> 界面，可以看到已经预先安装的中文本地化拓展，如下图所示：<img src=/p/stable-diffusion-lora-build/image-20230310165936809.png width=1353 height=625 srcset="/p/stable-diffusion-lora-build/image-20230310165936809_hu9e63b658719a80b07a423a4a71d9b75b_91808_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230310165936809_hu9e63b658719a80b07a423a4a71d9b75b_91808_1024x0_resize_box_3.png 1024w" loading=lazy alt="UI - Extensions" class=gallery-image data-flex-grow=216 data-flex-basis=519px></p><h3 id=应用拓展>应用拓展</h3><p>依次进入 <strong>设置 Settings</strong> → <strong>用户界面 User interface</strong>，滑倒最下，找到 <strong>Localization</strong>，选择 <code>zh_CN</code>。</p><p><img src=/p/stable-diffusion-lora-build/image-20230310170511315.png width=367 height=160 srcset="/p/stable-diffusion-lora-build/image-20230310170511315_hu1a315ed692a6e3e7a1b811e089d78b8d_8482_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230310170511315_hu1a315ed692a6e3e7a1b811e089d78b8d_8482_1024x0_resize_box_3.png 1024w" loading=lazy alt="UI - Localization" class=gallery-image data-flex-grow=229 data-flex-basis=550px></p><p>回到上方点击 <strong>应用设置 Apply settings</strong>，等待后台脚本运行，出现如下 Debug 信息后，点击 <strong>重载界面 Reload UI</strong> 即可应用拓展。</p><p><img src=/p/stable-diffusion-lora-build/image-20230310170543492.png width=1597 height=123 srcset="/p/stable-diffusion-lora-build/image-20230310170543492_hu88e883c84ebf2e718e1bbe09bb65f936_13049_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230310170543492_hu88e883c84ebf2e718e1bbe09bb65f936_13049_1024x0_resize_box_3.png 1024w" loading=lazy alt="UI - Apply settings" class=gallery-image data-flex-grow=1298 data-flex-basis=3116px></p><p>如果出现 <strong>No interface is running right now</strong> 的提示，说明 Gradio 前端链接已经刷新，回到你的 Colab 控制台获取新的页面链接。</p><p><img src=/p/stable-diffusion-lora-build/image-20230310164433976.png width=504 height=146 srcset="/p/stable-diffusion-lora-build/image-20230310164433976_hu23bbdc2c08c63d5a500466d1d20b0960_11023_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230310164433976_hu23bbdc2c08c63d5a500466d1d20b0960_11023_1024x0_resize_box_3.png 1024w" loading=lazy alt="Gradio Reload" class=gallery-image data-flex-grow=345 data-flex-basis=828px><img src=/p/stable-diffusion-lora-build/image-20230310164836401.png width=883 height=276 srcset="/p/stable-diffusion-lora-build/image-20230310164836401_hu8f4fc393c94ceeb297a8db1d47342f7e_61666_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230310164836401_hu8f4fc393c94ceeb297a8db1d47342f7e_61666_1024x0_resize_box_3.png 1024w" loading=lazy alt="Restarting Gradio interface" class=gallery-image data-flex-grow=319 data-flex-basis=767px></p><h3 id=重启界面>重启界面</h3><p>进入 Stable Diffusion WebUI 后，可以看到主要按钮的名称已经本地化。之后，可以按照这个方法更新 UI 和中文本地化拓展。</p><p><img src=/p/stable-diffusion-lora-build/image-20230310164550345.png width=1916 height=1313 srcset="/p/stable-diffusion-lora-build/image-20230310164550345_hu4ab1a7b42fa5c8e533ffac16668bfb1d_147227_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230310164550345_hu4ab1a7b42fa5c8e533ffac16668bfb1d_147227_1024x0_resize_box_3.png 1024w" loading=lazy alt="Stable Diffusion 中文界面" class=gallery-image data-flex-grow=145 data-flex-basis=350px></p><h2 id=飞向宇宙浩瀚无垠>飞向宇宙，浩瀚无垠</h2><p>值得注意的是，这个 UI 系统与 Stable Diffusion 社区生态相互连接。通过简单的鼠标操作，您可以轻松地访问 GitHub、CLIP Community 和 Civitai 上的开源内容。此外，在 Panel 面板上还可以方便地整理数据集和进行小型模型训练。</p><p>更重要的是，AIGC 的社区生态正在蓬勃发展中。Stable Diffusion、UI、Extensions 以及 GAN 和 Upscale 等应用研究领域都在不断更新迭代。</p><p>这只是一个简单的开端，接下来您可以借助开源社区的力量，深入探索 Stable Diffusion 宇宙的广阔世界，并进一步完善它。</p><h3 id=lora-最佳实践>LoRA 最佳实践</h3><blockquote><p>Things to note if you&rsquo;ve used my other LORAs: -</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>Things</span> <span class=n>to</span> <span class=n>note</span> <span class=k>if</span> <span class=n>you</span><span class=s1>&#39;ve used my other LORAs: -</span>
</span></span><span class=line><span class=cl><span class=mf>1.</span> <span class=n>It</span> <span class=n>has</span> <span class=n>more</span> <span class=n>variation</span><span class=p>,</span> <span class=ow>and</span> <span class=n>less</span> <span class=n>consistent</span> <span class=ow>in</span> <span class=n>making</span> <span class=n>the</span> <span class=n>same</span> <span class=n>types</span> <span class=n>of</span> <span class=n>faces</span><span class=p>,</span> <span class=n>it</span> <span class=n>is</span> <span class=n>easier</span> <span class=n>to</span> <span class=n>have</span> <span class=n>more</span> <span class=n>facial</span> <span class=n>expressions</span> <span class=n>due</span> <span class=n>to</span> <span class=n>this</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=mf>2.</span> <span class=n>Different</span> <span class=n>LORA</span> <span class=n>weight</span> <span class=n>control</span> <span class=n>would</span> <span class=n>easily</span> <span class=n>change</span> <span class=n>the</span> <span class=n>face</span> <span class=n>variation</span><span class=o>.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Explanation</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=mf>1.</span> <span class=n>This</span> <span class=n>is</span> <span class=n>a</span> <span class=n>LORA</span> <span class=n>trained</span> <span class=k>for</span> <span class=n>sd1</span><span class=o>.</span><span class=mi>5</span><span class=p>,</span> <span class=n>the</span> <span class=n>trigger</span> <span class=n>words</span> <span class=n>are</span> <span class=s1>&#39;girl&#39;</span> <span class=ow>and</span> <span class=s1>&#39;woman&#39;</span><span class=p>,</span> <span class=ow>or</span> <span class=n>you</span> <span class=n>could</span> <span class=n>control</span> <span class=n>the</span> <span class=n>weight</span> <span class=n>with</span> <span class=n>LORA</span> <span class=n>taiwanDollLikeness_v10</span> <span class=n>prompt</span><span class=o>.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mf>2.</span> <span class=n>This</span> <span class=n>LORA</span> <span class=n>works</span> <span class=n>extremely</span> <span class=n>well</span> <span class=n>with</span> <span class=n>ChilloutMix</span> <span class=ow>and</span> <span class=n>potentially</span> <span class=n>any</span> <span class=n>other</span> <span class=n>photorealistic</span> <span class=n>models</span><span class=p>,</span> <span class=n>including</span> <span class=n>nsfw</span> <span class=n>models</span><span class=o>.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mf>3.</span> <span class=n>Works</span> <span class=n>okay</span> <span class=n>when</span> <span class=n>used</span> <span class=n>together</span> <span class=n>with</span> <span class=n>PureErosFace</span> <span class=n>but</span> <span class=n>you</span> <span class=n>must</span> <span class=n>know</span> <span class=n>how</span> <span class=n>to</span> <span class=n>control</span> <span class=n>the</span> <span class=n>weights</span> <span class=n>properly</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>civitai</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>models</span><span class=o>/</span><span class=mi>4514</span><span class=o>/</span><span class=n>pure</span><span class=o>-</span><span class=n>eros</span><span class=o>-</span><span class=n>face</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mf>5.</span> <span class=n>May</span> <span class=n>also</span> <span class=n>work</span> <span class=n>together</span> <span class=n>with</span> <span class=s1>&#39;ulzzang-6500&#39;</span> <span class=n>but</span> <span class=n>weight</span> <span class=n>control</span> <span class=n>is</span> <span class=n>a</span> <span class=n>must</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>civitai</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>models</span><span class=o>/</span><span class=mi>8109</span><span class=o>/</span><span class=n>ulzzang</span><span class=o>-</span><span class=mi>6500</span><span class=o>-</span><span class=n>korean</span><span class=o>-</span><span class=n>doll</span><span class=o>-</span><span class=n>aesthetic</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mf>6.</span> <span class=n>Try</span> <span class=n>to</span> <span class=n>use</span> <span class=n>hires</span> <span class=n>fix</span> <span class=n>with</span> <span class=n>around</span> <span class=mi>10</span><span class=o>-</span><span class=mi>20</span> <span class=n>hires</span> <span class=n>steps</span><span class=p>,</span> <span class=n>latent</span> <span class=n>upscaling</span> <span class=p>(</span><span class=n>bicubic</span> <span class=n>antialiased</span><span class=p>),</span> <span class=n>denoising</span> <span class=n>strength</span> <span class=n>between</span> <span class=mi>0</span><span class=p>,</span><span class=mi>4</span><span class=o>-</span><span class=mf>0.7</span><span class=p>,</span> <span class=n>its</span> <span class=n>given</span> <span class=n>the</span> <span class=n>best</span> <span class=n>results</span> <span class=n>by</span> <span class=n>far</span><span class=o>.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mf>7.</span> <span class=n>Higher</span> <span class=n>resolution</span> <span class=n>also</span> <span class=n>helps</span> <span class=n>when</span> <span class=n>creating</span> <span class=n>further</span> <span class=n>subjects</span><span class=p>,</span> <span class=n>hires</span> <span class=n>fix</span> <span class=n>helps</span> <span class=n>greatly</span> <span class=n>with</span> <span class=n>this</span> <span class=n>too</span><span class=o>.|</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mf>8.</span> <span class=n>Best</span> <span class=n>samplers</span> <span class=n>are</span> <span class=n>DPM</span><span class=o>++</span> <span class=n>SDE</span> <span class=n>Karras</span><span class=p>,</span> <span class=n>Euler</span> <span class=n>a</span><span class=p>,</span> <span class=n>DPM2</span> <span class=n>a</span> <span class=n>Karras</span> <span class=ow>and</span> <span class=n>DPM</span><span class=o>++</span> <span class=n>SDE</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Caution</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=mf>1.</span> <span class=n>Recommended</span> <span class=n>weights</span> <span class=k>for</span> <span class=n>txt2img</span> <span class=o>-</span> <span class=mf>0.5</span><span class=o>-</span><span class=mf>0.8</span>
</span></span><span class=line><span class=cl><span class=mf>2.</span> <span class=n>Recommended</span> <span class=n>weights</span> <span class=k>for</span> <span class=n>img2img</span> <span class=o>-</span> <span class=mf>0.4</span><span class=o>-</span><span class=mf>0.8</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=upscaler-最佳实践>Upscaler 最佳实践</h3><p>Upscaler 是一款 AI 驱动的图像缩放器。在 Stable Diffusion 中，它将参与到图像渲染的过程中，并能够填充图像像素，从而提高成片分辨率和清晰度。通过搭配合适的咒语，可以生成更加锐利的图像细节。</p><p>不同种类的 Upscaler 具备不同方向的强化风格，主要分为以下三类：</p><ol><li>以摄影照片为主题的写实画风；</li><li>以动画/动漫为主题的二次元画风；</li><li>以艺术作品为主题的学派画风。</li></ol><p>此外，强化方向相同的 Upscaler 也具有不同的强化粒度。例如，有的渲染速度更快，而有的则更加精细。还有一些可以将主体分割出来进行单独强化，例如实现大光圈下主体锐利的浅景深效果。</p><p>模型作者认为，LoRA 最佳的 Upscaler 搭档是 Latent（bicubic antialiased），但你可以尝试其他 Upscaler 对小模型输出的影响。以下是社区总结的截至 2023 年 3 月 10 日的 Upscaler 特性表可供参考：</p><blockquote><p><a class=link href="https://www.reddit.com/r/StableDiffusion/comments/y2mrc2/the_definitive_comparison_to_upscalers/?sort=new" target=_blank rel=noopener>The DEFINITIVE Comparison to Upscalers : StableDiffusion</a></p><p>请注意，此表格仅列出在官方社区中出现的 Upscaler。您可以根据需要将任何 Upscaler 模型放置到 UI 目录下，并加载使用。</p></blockquote><div class=table-wrapper><table><thead><tr><th style=text-align:center>Upscaler</th><th style=text-align:center>Photos</th><th style=text-align:center>Paintings</th><th style=text-align:center>Anime/Animation</th></tr></thead><tbody><tr><td style=text-align:center><strong>LDSR</strong></td><td style=text-align:center>Much slower than anything else, but very good for photos</td><td style=text-align:center>Too much random noise</td><td style=text-align:center>Better, but still noisy</td></tr><tr><td style=text-align:center><strong>BSRGAN</strong></td><td style=text-align:center>Good, subtly sharp without going too far</td><td style=text-align:center>Okay, but maybe a bit too smooth</td><td style=text-align:center>Good, but R-ESRGAN is better</td></tr><tr><td style=text-align:center><strong>ESRGAN_4x</strong></td><td style=text-align:center><strong>SUPER</strong> sharp, good here, but might be a tad too unrealistic</td><td style=text-align:center>Too grainy, but might be good for a textured paint look</td><td style=text-align:center>Terrible, worse than non-AI methods</td></tr><tr><td style=text-align:center><strong>R-ESRGAN-General-4xV3</strong></td><td style=text-align:center>Okay, like BSRGAN, but a bit too much blur</td><td style=text-align:center>Ditto</td><td style=text-align:center>Much better here, but not as good as R-ESRGAN-Anime</td></tr><tr><td style=text-align:center><strong>R-ESRGAN-General-WDN-4xV3</strong></td><td style=text-align:center>Closer to BSRGAN</td><td style=text-align:center>Very good, texture and definition without being overbearing</td><td style=text-align:center>Also good, also not as good as R-ESRGAN-Anime</td></tr><tr><td style=text-align:center><strong>R-ESRGAN-AnimeVideo</strong></td><td style=text-align:center>Tends to &ldquo;unphoto&rdquo; a subject</td><td style=text-align:center>Ditto</td><td style=text-align:center>2nd best for anime, but Anime6B is better</td></tr><tr><td style=text-align:center><strong>R-ESRGAN-4x+</strong></td><td style=text-align:center>Basically BSRGAN</td><td style=text-align:center>Slightly more texture than BSRGAN</td><td style=text-align:center>Basically BSRGAN</td></tr><tr><td style=text-align:center><strong>R-ESRGAN-4x+-Anime6B</strong></td><td style=text-align:center>Straight-up anime dog</td><td style=text-align:center>Also anime</td><td style=text-align:center>The best for anime</td></tr><tr><td style=text-align:center><strong>ScuNET-GAN</strong></td><td style=text-align:center>Too blurry</td><td style=text-align:center>Too blurry</td><td style=text-align:center>Average</td></tr><tr><td style=text-align:center><strong>ScuNET-PSNR</strong></td><td style=text-align:center>Too blurry</td><td style=text-align:center>Too blurry</td><td style=text-align:center>Hot garbage</td></tr><tr><td style=text-align:center><strong>SwinIR_4x</strong></td><td style=text-align:center>Yuck, I see tile lines!</td><td style=text-align:center>Good, but not as textured as General-WDN</td><td style=text-align:center>Hot garbage</td></tr></tbody></table></div><p><strong>TL;DR</strong></p><div class=table-wrapper><table><thead><tr><th style=text-align:center>Picture type</th><th style=text-align:center>Recommendations</th></tr></thead><tbody><tr><td style=text-align:center><strong>Photos</strong></td><td style=text-align:center><strong>LDSR</strong> (but it&rsquo;s slow), or <strong>ESRGAN_4x</strong> if you want to super-sharp detail and/or speed, or <strong>BSRGAN</strong> for subtly</td></tr><tr><td style=text-align:center><strong>Paintings</strong></td><td style=text-align:center><strong>ESRGAN_4x</strong> for high paint texture and detail, <strong>General-WDN</strong> for a better overall look</td></tr><tr><td style=text-align:center><strong>Anime</strong></td><td style=text-align:center><strong>Anime6B</strong>, also good for turning something into anime</td></tr></tbody></table></div><h3 id=sampler-最佳实践>Sampler 最佳实践</h3><ul><li><a class=link href=https://www.artstation.com/blogs/kaddoura/pBPo/stable-diffusion-samplers target=_blank rel=noopener>ArtStation - Stable Diffusion - Samplers</a></li><li>待補充&mldr;</li></ul><h3 id=社区索引表>社区索引表</h3><div class=table-wrapper><table><thead><tr><th style=text-align:center>索引</th><th>备注</th></tr></thead><tbody><tr><td style=text-align:center><a class=link href=https://civitai.com/ target=_blank rel=noopener>Civitai</a></td><td>CivitAI 的主要功能包括模型分享和社区交流。用户可以在其他用户分享的模型下方回复自己使用该模型生成的样本、参数以及随机种子，这可以帮助我们快速调试其他人的模型并借鉴他们的输出结果，避免自己在生成过程中的不太理想的表现。</td></tr><tr><td style=text-align:center><a class=link href=https://civitai.com/models/6424/chilloutmix target=_blank rel=noopener>ChilloutMix</a></td><td>这个模型擅长于生成亚洲女性特征的图片</td></tr><tr><td style=text-align:center>LoRAs</td><td>LoRA（Low-Rank Adaptation of Large Language Models）简单来说，就是通过少量的图像来对 AI 进行额外的学习和训练，从而在一定程度上控制结果。当前比较流行的分支有<a class=link href=https://civitai.com/models/7448/korean-doll-likeness target=_blank rel=noopener>LoRA-KoreanDoll</a>、<a class=link href=https://civitai.com/models/7716/taiwan-doll-likeness target=_blank rel=noopener>LoRA-TaiwanDoll</a>、<a class=link href=https://civitai.com/models/10135/japanese-doll-likeness target=_blank rel=noopener>LoRA-JapaneseDoll</a>，它们分别针对韩国女性、台湾女性和日本女性的风格进行输出。</td></tr><tr><td style=text-align:center><a class=link href=https://prompthero.com/stable-diffusion-prompts target=_blank rel=noopener>PromptHero</a></td><td>如果您不确定如何描述您的内容主体，可以通过搜索您要描述的对象（如：girl, cat, hero），查看网友提供的展示案例，选择您感兴趣的图片并查看其对应的描述。这是对新手很有帮助的辅助工具。</td></tr><tr><td style=text-align:center><a class=link href=https://github.com/awesome-stable-diffusion/awesome-stable-diffusion target=_blank rel=noopener>awesome-stable-diffusion</a></td><td>任何热门技术都会有一个 Awesome 列表。如果你是新手，这个列表将对你很有帮助，它可以让你拓展知识领域，了解Stable Diffusion 社区中出现频率最高的项目/术语/关键词以及相关描述。</td></tr><tr><td style=text-align:center><a class=link href=https://github.com/Stability-AI/stablediffusion target=_blank rel=noopener>stablediffusion-v2</a></td><td>High-Resolution Image Synthesis with Latent Diffusion Models</td></tr><tr><td style=text-align:center><a class=link href=https://github.com/AUTOMATIC1111/stable-diffusion-webui target=_blank rel=noopener>stable-diffusion-webui</a></td><td>A browser interface based on Gradio library for Stable Diffusion</td></tr><tr><td style=text-align:center><a class=link href=https://github.com/lllyasviel/ControlNet target=_blank rel=noopener>ControlNet</a></td><td>ControlNet is a neural network structure to control diffusion models by adding extra conditions.</td></tr></tbody></table></div></section><footer class=article-footer><section class=article-tags><a href=/tags/aigc/>AIGC</a>
<a href=/tags/lora/>Lora</a>
<a href=/tags/stable-diffusion/>Stable-Diffusion</a>
<a href=/tags/chilloutmixni/>Chilloutmixni</a>
<a href=/tags/stable-diffusion-webui/>Stable-Diffusion-Webui</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css integrity=sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js integrity=sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script></article><aside class=related-content--wrapper><h2 class=section-title></h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/%E9%80%89%E6%8B%A9%E5%A4%A7%E4%BA%8E%E5%8A%AA%E5%8A%9B%E4%BB%8E%E7%A4%BE%E4%BC%9A%E5%AD%A6%E8%A7%86%E8%A7%92%E8%81%8A%E4%B8%80%E8%81%8A%E5%86%B3%E7%AD%96%E5%9B%A0%E5%AD%90%E6%A8%A1%E5%9E%8B/><div class=article-image><img src=https://r2-datalake.echosec.top/blog-obs/2024/10/ef965488cee6b2c7a0d02ecd9b2d77c8.jpg loading=lazy data-key data-hash=https://r2-datalake.echosec.top/blog-obs/2024/10/ef965488cee6b2c7a0d02ecd9b2d77c8.jpg></div><div class=article-details><h2 class=article-title>选择大于努力？从社会学视角聊一聊决策因子模型</h2></div></a></article><article class=has-image><a href=/p/crazy-claude/><div class=article-image><img src=/p/crazy-claude/abrar-khan.88826569f65bdf052df4dc215f4438d2_hubf82b9792be202cd4fbd05c99e3361b3_1055191_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post Crazy Claude: Legends of the Nautical Age" data-key=crazy-claude data-hash="md5-iIJlafZb3wUt9NwhX0Q40g=="></div><div class=article-details><h2 class=article-title>Crazy Claude: Legends of the Nautical Age</h2></div></a></article><article class=has-image><a href=/p/robot-yea/><div class=article-image><img src=/p/robot-yea/sins.7b6d1abff913cead805131f025fc91a8_huf9044faf8b8b0063788b452ed9110722_275914_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post 『Blog』Robot Yea" data-key=robot-yea data-hash="md5-e20av/kTzq2AUTHwJfyRqA=="></div><div class=article-details><h2 class=article-title>『Blog』Robot Yea</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=qin2dim/blog-comments issue-term=pathname crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Echosec @QIN2DIM</section><section class=powerby>You will to enjoy grander sight / By climing to a greater height.<br><br></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#preview>Preview</a></li><li><a href=#quick-start>Quick Start</a><ol><li><a href=#部署脚本>部署脚本</a></li><li><a href=#输入咒语>输入咒语</a></li><li><a href=#预览输出>预览输出</a></li></ol></li><li><a href=#军火展示>军火展示</a></li><li><a href=#拓展设置>拓展设置</a><ol><li><a href=#下载拓展>下载拓展</a></li><li><a href=#应用拓展>应用拓展</a></li><li><a href=#重启界面>重启界面</a></li></ol></li><li><a href=#飞向宇宙浩瀚无垠>飞向宇宙，浩瀚无垠</a><ol><li><a href=#lora-最佳实践>LoRA 最佳实践</a></li><li><a href=#upscaler-最佳实践>Upscaler 最佳实践</a></li><li><a href=#sampler-最佳实践>Sampler 最佳实践</a></li><li><a href=#社区索引表>社区索引表</a></li></ol></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>