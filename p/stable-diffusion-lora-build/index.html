<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="一键部署可以直接使用的云端程序"><title>『Blog』Stable Diffusion 敏捷部署</title><link rel=canonical href=https://blog.echosec.top/p/stable-diffusion-lora-build/><link rel=stylesheet href=/scss/style.min.00066413cf5b11ff83f68f901cd98368c0b2d6327b373ddf957666a5c4d92db2.css><meta property="og:title" content="『Blog』Stable Diffusion 敏捷部署"><meta property="og:description" content="一键部署可以直接使用的云端程序"><meta property="og:url" content="https://blog.echosec.top/p/stable-diffusion-lora-build/"><meta property="og:site_name" content="Echosec @QIN2DIM"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="AIGC"><meta property="article:tag" content="lora"><meta property="article:tag" content="stable-diffusion"><meta property="article:tag" content="chilloutmixni"><meta property="article:tag" content="stable-diffusion-webui"><meta property="article:published_time" content="2023-03-02T12:58:57+08:00"><meta property="article:modified_time" content="2023-03-02T12:58:57+08:00"><meta property="og:image" content="https://blog.echosec.top/p/stable-diffusion-lora-build/rashed-alakroka-2b3s.jpg"><meta name=twitter:site content="@Alkaid20860233"><meta name=twitter:creator content="@Alkaid20860233"><meta name=twitter:title content="『Blog』Stable Diffusion 敏捷部署"><meta name=twitter:description content="一键部署可以直接使用的云端程序"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.echosec.top/p/stable-diffusion-lora-build/rashed-alakroka-2b3s.jpg"><link rel="shortcut icon" href=https://cdn.jsdelivr.net/gh/qin2dim/cdn-relay@main/avatars/watercolour-4817390__480.jpg><script async src="https://www.googletagmanager.com/gtag/js?id=G-9XVBFK3RRV"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9XVBFK3RRV",{anonymize_ip:!1})}</script><link rel=stylesheet href=//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css><script async src=https://busuanzi.icodeq.com/busuanzi.pure.mini.js></script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/62018067_hu01b1850304f2a433574ed2470395348a_321911_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>🎯</span></figure><div class=site-meta><h1 class=site-name><a href=/>Echosec @QIN2DIM</a></h1><h2 class=site-description>A Creator from China.</h2></div></header><ol class=social-menu><li><a href=https://github.com/QIN2DIM target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/Alkaid20860233 target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li><li><a href=https://nav.echosec.top target=_blank title=Navigator><!doctype html><svg t="1635028836276" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="9207" width="128" height="128" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style/></defs><path d="M782.802 129.086c3.079.0 5.884 2.805 5.884 5.884v744.58L561.591 601.177 512 540.387l-49.591 60.789-227.095 278.375v-744.58c0-3.08 2.805-5.884 5.884-5.884h541.604m0-64.001H241.198c-38.436.0-69.884 31.448-69.884 69.884v768.729c.276 33.712 27.781 55.214 56.065 55.214 15.368.0 30.969-6.353 42.548-20.546L512 641.633 753.023 937.08c11.68 14.317 27.793 20.773 43.661 20.773 28.115.0 55.458-20.27 55.993-53.003.006-.383.009-.767.009-1.151V134.971c0-38.437-31.447-69.885-69.884-69.885z" p-id="9208" fill="#bababa"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/links><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><li><a href=/archives><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></div></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/stable-diffusion-lora-build/><img src=/p/stable-diffusion-lora-build/rashed-alakroka-2b3s_hu4d99951df32ba2de47679c6fd57b6d29_458829_800x0_resize_q75_box.jpg srcset="/p/stable-diffusion-lora-build/rashed-alakroka-2b3s_hu4d99951df32ba2de47679c6fd57b6d29_458829_800x0_resize_q75_box.jpg 800w, /p/stable-diffusion-lora-build/rashed-alakroka-2b3s_hu4d99951df32ba2de47679c6fd57b6d29_458829_1600x0_resize_q75_box.jpg 1600w" width=800 height=474 loading=lazy alt="Featured image of post 『Blog』Stable Diffusion 敏捷部署"></a></div><div class=article-details><header class=article-category><a href=/categories/bot-revolution/ style=background-color:#faabb9;color:#fff>Bot Revolution</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/stable-diffusion-lora-build/>『Blog』Stable Diffusion 敏捷部署</a></h2><h3 class=article-subtitle>一键部署可以直接使用的云端程序</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>2023-03-02</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 5 分钟</time></div></footer></div></header><section class=article-content><h2 id=preview>Preview</h2><p>在开始本教程之前，请确保你已经注册了谷歌账号，能够科学上网，并且了解 Colaboratory 的基本功能。</p><p>如果你是从未尝试过 Stable Diffusion 的新手用户，我们提供了本方法，让你轻松上手。如果你拥有足够强大的 GPU 计算能力、内存和硬盘空间，你还可以将 Stable Diffusion 部署到本地，这将使整个生产过程更加安全可靠。</p><p>本教程会带你领略 AIGC-2023 的曼妙世界，以 ChilloutMix & LoRA 基本模型为切入点，帮助你踏入 AI 应用领域。</p><h2 id=quick-start>Quick Start</h2><ol><li><p>前往网站 <a class=link href="https://colab.research.google.com/#scrollTo=htsbKCbpmm-h" target=_blank rel=noopener>Colaboratory</a>。</p></li><li><p>点击「查看资源」，进入「更改运行时类型」设置，选择「硬件加速器」，并选用 <strong>GPU</strong>。</p></li><li><p>等待连接成功后，重新查看资源信息。如果发现出现了 <strong>GPU RAM</strong> 图表，说明成功启用了 GPU 加速器。</p><p>免费用户默认使用 CPU 实例，但是对于 AI 图片生成等复杂任务，CPU 的算力已无法胜任。也即，必须启用 GPU 才能顺利运行和部署 Cloud-based Stable Diffusion。</p></li></ol><p><img src=/p/stable-diffusion-lora-build/image-20230302134448398.png width=1148 height=773 srcset="/p/stable-diffusion-lora-build/image-20230302134448398_hu4e412588ffd011e9f50f0db596dcbb8e_96875_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230302134448398_hu4e412588ffd011e9f50f0db596dcbb8e_96875_1024x0_resize_box_3.png 1024w" loading=lazy alt="Colaboratory - Switch to GPU" class=gallery-image data-flex-grow=148 data-flex-basis=356px></p><h3 id=部署脚本>部署脚本</h3><p>回到 Colaboratory，新建代码块，贴入如下代码安装依赖，预计耗时 3~5 分钟。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=err>!</span><span class=n>pip</span> <span class=n>install</span> <span class=o>--</span><span class=n>upgrade</span> <span class=n>fastapi</span><span class=o>==</span><span class=mf>0.90.1</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>git</span> <span class=n>clone</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>github</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>AUTOMATIC1111</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>git</span> <span class=n>clone</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>github</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>yfszzx</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>-</span><span class=n>images</span><span class=o>-</span><span class=n>browser</span> <span class=o>/</span><span class=n>content</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>/</span><span class=n>extensions</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span><span class=o>-</span><span class=n>images</span><span class=o>-</span><span class=n>browser</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>curl</span> <span class=o>-</span><span class=n>Lo</span> <span class=n>chilloutmixni</span><span class=o>.</span><span class=n>safetensors</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>huggingface</span><span class=o>.</span><span class=n>co</span><span class=o>/</span><span class=n>nolanaatama</span><span class=o>/</span><span class=n>chomni</span><span class=o>/</span><span class=n>resolve</span><span class=o>/</span><span class=n>main</span><span class=o>/</span><span class=n>chomni</span><span class=o>.</span><span class=n>safetensors</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>curl</span> <span class=o>-</span><span class=n>Lo</span> <span class=n>ulzzang</span><span class=o>-</span><span class=mf>6500.</span><span class=n>pt</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>huggingface</span><span class=o>.</span><span class=n>co</span><span class=o>/</span><span class=n>nolanaatama</span><span class=o>/</span><span class=n>chomni</span><span class=o>/</span><span class=n>resolve</span><span class=o>/</span><span class=n>main</span><span class=o>/</span><span class=n>ulzzang</span><span class=o>-</span><span class=mf>6500.</span><span class=n>pt</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>mv</span> <span class=s2>&#34;/content/chilloutmixni.safetensors&#34;</span> <span class=s2>&#34;/content/stable-diffusion-webui/models/Stable-diffusion&#34;</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>mv</span> <span class=s2>&#34;/content/ulzzang-6500.pt&#34;</span> <span class=s2>&#34;/content/stable-diffusion-webui/embeddings&#34;</span>
</span></span><span class=line><span class=cl><span class=o>%</span><span class=n>cd</span> <span class=o>/</span><span class=n>content</span><span class=o>/</span><span class=n>stable</span><span class=o>-</span><span class=n>diffusion</span><span class=o>-</span><span class=n>webui</span>
</span></span><span class=line><span class=cl><span class=err>!</span><span class=n>COMMANDLINE_ARGS</span><span class=o>=</span><span class=s2>&#34;--share --disable-safe-unpickle --skip-torch-cuda-test --no-half-vae --xformers --reinstall-xformers --enable-insecure-extension-access&#34;</span> <span class=n>REQS_FILE</span><span class=o>=</span><span class=s2>&#34;requirements.txt&#34;</span> <span class=n>python</span> <span class=n>launch</span><span class=o>.</span><span class=n>py</span>
</span></span></code></pre></td></tr></table></div></div><p>安装完成后，控制台会输出部署到 Gradio 的 <a class=link href=https://github.com/yfszzx/stable-diffusion-webui-images-browser target=_blank rel=noopener>stable-diffusion-webui</a> 的公共访问链接，该链接有效期为72小时，如下图所示。请新建一个标签页访问链接。</p><p>请注意，不要关闭此 Shell 控制台或 Colab 标签页，否则 WebUI 服务将直接中断。</p><p><img src=/p/stable-diffusion-lora-build/image-20230302131732303.png width=643 height=52 srcset="/p/stable-diffusion-lora-build/image-20230302131732303_hue2706b7474d3d6805e1bdbcf661510cf_13274_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230302131732303_hue2706b7474d3d6805e1bdbcf661510cf_13274_1024x0_resize_box_3.png 1024w" loading=lazy alt="Stable Diffusion WebUI" class=gallery-image data-flex-grow=1236 data-flex-basis=2967px></p><h3 id=输入咒语>输入咒语</h3><p>访问你的 Gradio 控制台，进入 <code>txt2img</code> 炼金炉，在上方 <strong>prompt</strong> 输入如下咒语：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>(8k, RAW photo, best quality, masterpiece:1.2), (realistic, photo-realistic:1.37), ultra-detailed,full body,1 girl, solo,beautiful detailed sky,detailed tokyo street,night,beautiful detailed eyes,beautiful detailed lips,professional lighting, photon mapping, radiosity, physically-based rendering,extremely detailed eyes and face, beautiful detailed eyes,light on face,cinematic lighting, short jacket,hoodie,school uniform,1girl,full body,full-body shot,see-through,looking at viewer,outdoors,((white hair)),
</span></span></code></pre></td></tr></table></div></div><p>在下方 <strong>Negative prompt</strong> 输入如下咒语：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>EasyNegative, paintings, sketches, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), skin spots, acnes, skin blemishes, age spot, glans,extra fingers,fewer fingers,strange fingers,bad hand,signature, watermark, username, blurry, bad feet,bad leg, duplicate, extra limb, ugly, disgusting, poorly drawn hands, missing limb, floating limbs, disconnected limbs, malformed hands, blurry,mutated hands and fingers,, EasyNegative, paintings, sketches, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), skin spots, acnes, skin blemishes, age spot, glans,extra fingers,fewer fingers,strange fingers,bad hand,signature, watermark, username, blurry, bad feet,bad leg
</span></span></code></pre></td></tr></table></div></div><p>以上两个提示语的作用顾名思义。本文提供的内容仅供参考，您也可以在部署后自行探索，或者参考其他人留下的攻略。</p><p>这里有必要指出的 demo 中提到的关键内容，如「消极提示」中的 <code>bad hand</code>，<code>fingers</code>，<code>extra fingers</code>等词旨在抑制“花式输出”，而「积极提示」中的 <code>8k</code>，<code>ultra-detailed</code>则用于获取高度复杂的画面细节。</p><p>以下是其他参考参数：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>Handler</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Sampling method</span><span class=p>:</span><span class=w> </span><span class=l>DPM++ SDE Karr</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Sampling steps</span><span class=p>:</span><span class=w> </span><span class=m>25</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Width</span><span class=p>:</span><span class=w> </span><span class=m>512</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Heigh</span><span class=p>:</span><span class=w> </span><span class=m>768</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Batch count</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Batch size</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>CFG Scale</span><span class=p>:</span><span class=w> </span><span class=m>7.5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Seed</span><span class=p>:</span><span class=w> </span>-<span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Script</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>Checkbox</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Restore faces</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Tiling</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Hire.fix</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>点击「<strong>Generate</strong>」开始念咒语！！！</p><p><img src=/p/stable-diffusion-lora-build/image-20230302133131788.png width=1916 height=1547 srcset="/p/stable-diffusion-lora-build/image-20230302133131788_hu11d3c78308a5df04c34a240d84c58365_536344_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/image-20230302133131788_hu11d3c78308a5df04c34a240d84c58365_536344_1024x0_resize_box_3.png 1024w" loading=lazy alt="First Shot" class=gallery-image data-flex-grow=123 data-flex-basis=297px></p><h3 id=预览输出>预览输出</h3><p>点击图片渲染区的 「Save → Download」将图片缓存到本地目录。</p><p><img src=/p/stable-diffusion-lora-build/00000-569298980-16777352810046.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00000-569298980-16777352810046_hubea55a913f97ac2e0a6542b87260b48f_576684_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00000-569298980-16777352810046_hubea55a913f97ac2e0a6542b87260b48f_576684_1024x0_resize_box_3.png 1024w" loading=lazy alt="ChilloutMix & LoRA" class=gallery-image data-flex-grow=66 data-flex-basis=160px></p><p>下面有更具可玩性的选项供您选择：</p><ol><li>如果您输出了组图，可以勾选多张图片并选择「Zip」来打包下载。</li><li>如果您对某张输出结果特别满意，可以选择「Send to img2img」，这样您就有了更多选择，例如进入 ControlNet 的神奇世界，基于人物骨骼进行二次创作。</li><li>如果您是专业画手，可以进入「Send to inpaint」页面，对 AIGC 的产出进行二次编辑。</li><li>最后，您可以选择「Send to Extras」，增强图片的细节，增加像素量或者延续创作风格，生成新的图片。</li></ol><p>本篇博客不讨论 Prompt 关键词及各种模型抑制参数的含义，如有兴趣，欢迎在 Google 上深入搜索。</p><h2 id=军火展示>军火展示</h2><p>我使用了上文提供的咒语输出了8张图片，可用率100%，效果还不错。</p><p>值得一提的是，本篇博客展示的图片均为缩略图，未经过 upscale 处理，每张图片大小约为550KB。如果您在控制台中进一步调整 upscale 参数，为图片填充像素量，使得单张图片输出大小在 2~5MB 范围内，图片信息量将提高到第一个甜点区。</p><p><img src=/p/stable-diffusion-lora-build/00001-3837281495.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00001-3837281495_hu113fde28fe725a41680bbd286205d3d6_601746_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00001-3837281495_hu113fde28fe725a41680bbd286205d3d6_601746_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00005-1671085026.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00005-1671085026_hu4f253d7d2c9c8de0192b71c7e3518e33_547793_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00005-1671085026_hu4f253d7d2c9c8de0192b71c7e3518e33_547793_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00004-255330288.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00004-255330288_huf1d8fbe7e338fa9f431e3c7c20610374_560279_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00004-255330288_huf1d8fbe7e338fa9f431e3c7c20610374_560279_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00002-1493913889.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00002-1493913889_hu81fd1c8e58d28d4c4faa5b20ecf7a1f6_512957_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00002-1493913889_hu81fd1c8e58d28d4c4faa5b20ecf7a1f6_512957_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px></p><p><img src=/p/stable-diffusion-lora-build/00006-2614156155.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00006-2614156155_hu910902d592f6cad23be2c1f5125d553b_578806_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00006-2614156155_hu910902d592f6cad23be2c1f5125d553b_578806_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00008-2386616295.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00008-2386616295_hub313c701a68e042ad0fe18c27a3b4b45_550110_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00008-2386616295_hub313c701a68e042ad0fe18c27a3b4b45_550110_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00007-4277602304.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00007-4277602304_hu974f6fb48d9a4548e7d1be893bc84bb5_543887_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00007-4277602304_hu974f6fb48d9a4548e7d1be893bc84bb5_543887_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px><img src=/p/stable-diffusion-lora-build/00009-4003332370.png width=512 height=768 srcset="/p/stable-diffusion-lora-build/00009-4003332370_hu017ae11bb264072836f716d419762091_573642_480x0_resize_box_3.png 480w, /p/stable-diffusion-lora-build/00009-4003332370_hu017ae11bb264072836f716d419762091_573642_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=66 data-flex-basis=160px></p><h2 id=飞向宇宙浩瀚无垠>飞向宇宙，浩瀚无垠</h2><p>这只是一个简单的开端，接下来您可以借助开源社区的力量，深入探索 Stable Diffusion 宇宙的广阔世界，并进一步完善它。</p><h3 id=lora-咒语最佳实践>LoRA 咒语最佳实践</h3><blockquote><p>Things to note if you&rsquo;ve used my other LORAs: -</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Things to note if you&#39;ve used my other LORAs: -
</span></span><span class=line><span class=cl>1. It has more variation, and less consistent in making the same types of faces, it is easier to have more facial expressions due to this.
</span></span><span class=line><span class=cl>2. Different LORA weight control would easily change the face variation.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Explanation:
</span></span><span class=line><span class=cl>1. This is a LORA trained for sd1.5, the trigger words are &#39;girl&#39; and &#39;woman&#39;, or you could control the weight with LORA taiwanDollLikeness_v10 prompt.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2. This LORA works extremely well with ChilloutMix and potentially any other photorealistic models, including nsfw models.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>3. Works okay when used together with PureErosFace but you must know how to control the weights properly.
</span></span><span class=line><span class=cl>https://civitai.com/models/4514/pure-eros-face
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>5. May also work together with &#39;ulzzang-6500&#39; but weight control is a must.
</span></span><span class=line><span class=cl>https://civitai.com/models/8109/ulzzang-6500-korean-doll-aesthetic
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>6. Try to use hires fix with around 10-20 hires steps, latent upscaling (bicubic antialiased), denoising strength between 0,4-0.7, its given the best results by far.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>7. Higher resolution also helps when creating further subjects, hires fix helps greatly with this too.|
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>8. Best samplers are DPM++ SDE Karras, Euler a, DPM2 a Karras and DPM++ SDE
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Caution:
</span></span><span class=line><span class=cl>1. Recommended weights for txt2img - 0.5-0.8
</span></span><span class=line><span class=cl>2. Recommended weights for img2img - 0.4-0.8
</span></span></code></pre></td></tr></table></div></div><h3 id=索引表>索引表</h3><div class=table-wrapper><table><thead><tr><th style=text-align:center>索引</th><th>备注</th></tr></thead><tbody><tr><td style=text-align:center><a class=link href=https://civitai.com/ target=_blank rel=noopener>Civitai</a></td><td>CivitAI 的主要功能包括模型分享和社区交流。用户可以在其他用户分享的模型下方回复自己使用该模型生成的样本、参数以及随机种子，这可以帮助我们快速调试其他人的模型并借鉴他们的输出结果，避免自己在生成过程中的不太理想的表现。</td></tr><tr><td style=text-align:center><a class=link href=https://civitai.com/models/6424/chilloutmix target=_blank rel=noopener>ChilloutMix</a></td><td>这个模型擅长于生成亚洲女性特征的图片</td></tr><tr><td style=text-align:center>LoRAs</td><td>LoRA（Low-Rank Adaptation of Large Language Models）简单来说，就是通过少量的图像来对 AI 进行额外的学习和训练，从而在一定程度上控制结果。当前比较流行的分支有<a class=link href=https://civitai.com/models/7448/korean-doll-likeness target=_blank rel=noopener>LoRA-KoreanDoll</a>、<a class=link href=https://civitai.com/models/7716/taiwan-doll-likeness target=_blank rel=noopener>LoRA-TaiwanDoll</a>、<a class=link href=https://civitai.com/models/10135/japanese-doll-likeness target=_blank rel=noopener>LoRA-JapaneseDoll</a>，它们分别针对韩国女性、台湾女性和日本女性的风格进行输出。</td></tr><tr><td style=text-align:center><a class=link href=https://prompthero.com/stable-diffusion-prompts target=_blank rel=noopener>PromptHero</a></td><td>如果您不确定如何描述您的内容主体，可以通过搜索您要描述的对象（如：girl, cat, hero），查看网友提供的展示案例，选择您感兴趣的图片并查看其对应的描述。这是对新手很有帮助的辅助工具。</td></tr></tbody></table></div></section><footer class=article-footer><section class=article-tags><a href=/tags/aigc/>AIGC</a>
<a href=/tags/lora/>lora</a>
<a href=/tags/stable-diffusion/>stable-diffusion</a>
<a href=/tags/chilloutmixni/>chilloutmixni</a>
<a href=/tags/stable-diffusion-webui/>stable-diffusion-webui</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-views><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-eye-check" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="2"/><path d="M12 19c-4 0-7.333-2.333-10-7 2.667-4.667 6-7 10-7s7.333 2.333 10 7c-.42.736-.858 1.414-1.311 2.033"/><path d="M15 19l2 2 4-4"/></svg><span id=busuanzi_value_page_pv><i class="fa fa-spinner fa-spin"></i></span><span>&nbsp;&nbsp;views</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title></h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/robot-yea/><div class=article-image><img src=/p/robot-yea/sins.7b6d1abff913cead805131f025fc91a8_huf9044faf8b8b0063788b452ed9110722_275914_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post 『Blog』Robot Yea" data-key=robot-yea data-hash="md5-e20av/kTzq2AUTHwJfyRqA=="></div><div class=article-details><h2 class=article-title>『Blog』Robot Yea</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=qin2dim/blog-comments issue-term=pathname crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2023 Echosec @QIN2DIM</section><section class=powerby>You will to enjoy grander sight / By climing to a greater height.<br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.12.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#preview>Preview</a></li><li><a href=#quick-start>Quick Start</a><ol><li><a href=#部署脚本>部署脚本</a></li><li><a href=#输入咒语>输入咒语</a></li><li><a href=#预览输出>预览输出</a></li></ol></li><li><a href=#军火展示>军火展示</a></li><li><a href=#飞向宇宙浩瀚无垠>飞向宇宙，浩瀚无垠</a><ol><li><a href=#lora-咒语最佳实践>LoRA 咒语最佳实践</a></li><li><a href=#索引表>索引表</a></li></ol></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>