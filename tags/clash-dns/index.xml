<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>clash-dns on Echosec @QIN2DIM</title><link>https://blog.echosec.top/tags/clash-dns/</link><description>Recent content in clash-dns on Echosec @QIN2DIM</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 15 Jul 2023 12:17:57 +0800</lastBuildDate><atom:link href="https://blog.echosec.top/tags/clash-dns/index.xml" rel="self" type="application/rss+xml"/><item><title>„ÄéBlog„ÄèDive into Clash DNS</title><link>https://blog.echosec.top/p/dive-into-clash-dns/</link><pubDate>Sat, 15 Jul 2023 12:17:57 +0800</pubDate><guid>https://blog.echosec.top/p/dive-into-clash-dns/</guid><description>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/dominik-mayer.jpg" alt="Featured image of post „ÄéBlog„ÄèDive into Clash DNS" />&lt;h2 id="ÁÆÄ‰ªã">ÁÆÄ‰ªã&lt;/h2>
&lt;p>ÈÄêË°åÈòÖËØªÊ∫êÁ†ÅÔºåË∂ÖÔºÅÁ°¨ÔºÅÊ†∏ÔºÅÁöÑ Clash DNS Â∫ïÂ±ÇÂéüÁêÜËØ¶Ëß£ÔºÅ&lt;/p>
&lt;p>Ôºàincoming&amp;hellip;Ôºâ&lt;/p>
&lt;h2 id="ÂÆûÈ™åÁéØÂ¢É">ÂÆûÈ™åÁéØÂ¢É&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">Êìç‰ΩúÁ≥ªÁªü&lt;/th>
&lt;th style="text-align:left">Windows 11&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">Á≥ªÁªüDNS&lt;/td>
&lt;td style="text-align:left">192.168.31.1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">ÁΩëÂÖ≥IP&lt;/td>
&lt;td style="text-align:left">192.168.31.1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Â≠êÁΩëIP&lt;/td>
&lt;td style="text-align:left">192.168.31.178&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">‰ª£ÁêÜÊ†∏ÂøÉ&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://github.com/MetaCubeX/Clash.Meta/releases/tag/v1.15.0" target="_blank" rel="noopener"
>Clash.Meta v1.15.0&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">ÂºïÂØºUI&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://github.com/zzzgydi/clash-verge/releases/tag/v1.3.3" target="_blank" rel="noopener"
>clash-verge v1.3.3&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ol>
&lt;li>
&lt;p>Protocol: tuic v5&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">proxies&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- {&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;tunic&amp;#34;&lt;/span>&lt;span class="nt">, type: tuic, udp-relay-mode: quic, congestion-controller: bbr, alpn: [&amp;#39;h3&amp;#39;, &amp;#39;spdy/3.1&amp;#39;], reduce-rtt: True, max-udp-relay-packet-size: 1464, server: *, port: *, uuid: *, password: *, ip&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>*&lt;span class="w"> &lt;/span>}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">proxy-groups&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- {&lt;span class="w"> &lt;/span>&lt;span class="nt">name: PROXY, type: select, proxies&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;tunic&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>RULE-SET Êù•Ëá™ËßÑÂàô‰∏äÊ∏∏ &lt;em>Loyalsoldier/clash-rules&lt;/em>&lt;/p>
&lt;p>ÂΩìÊ≠£Êñá‰∏≠Ê≤°ÊúâÊòéÁ°ÆËØ¥Êòé rules Êó∂‰ΩøÁî®Â¶Ç‰∏ãÈÖçÁΩÆÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">rule-providers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># -- skip --&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,category-scholar-!cn,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,category-ads-all,REJECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,youtube,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,google,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,cn,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,private,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,steam@cn,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,category-games@cn,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,geolocation-!cn,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,private,DIRECT,no-resolve&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,telegram,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,CN,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DST-PORT,80/8080/443/8443,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="ÂÆûÈ™åÊñπÊ≥ï">ÂÆûÈ™åÊñπÊ≥ï&lt;/h2>
&lt;blockquote>
&lt;p>ü¶âÂÆûÈ™åÂèØÂÆâÂÖ®Â§çÁé∞&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>
&lt;p>ÂàÜÂà´Âú®ËßÑÂàôÊ®°ÂºèÔºåÂÖ®Â±ÄÊ®°ÂºèÔºåÁõ¥ËøûÊ®°Âºè‰∏ã‰ΩøÁî®È¢ÑÂÆö‰πâÁöÑ &lt;code>dns&lt;/code> ÂÆûÈ™åÈÖçÁΩÆËÆøÈóÆÂüüÂêçÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>api.dida365.com&lt;/code>&lt;/p>
&lt;p>ÂëΩ‰∏≠ËßÑÂàô &lt;code>geosite:cn&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>api.dida36768990.com&lt;/code>&lt;/p>
&lt;p>‰∏Ä‰∏™Èöè‰æøÊï≤ÁöÑÂüüÂêçÔºåÂÅáËÆæÂÆÉ‰∏çÂ≠òÂú®„ÄÇÊòæÁÑ∂ÔºåËøôÊòØ‰∏™‰∏çÂ≠òÂú®‰∫éÂêÑ‰∏™ RULE-SET ‰∏≠ÁöÑ target„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>www.google.com&lt;/code>&lt;/p>
&lt;p>‰ªé‰∏äËá≥‰∏ãÔºåÂëΩ‰∏≠È¶ñÊù°ÂüüÂêç‰ª£ÁêÜËßÑÂàô„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÂàáÊç¢Âà∞ TUN Ê®°ÂºèÂÜçÊµã‰∏ÄÈÅç&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Recode DNS configuration, logger, wireshark trace&lt;/p>
&lt;p>ËÆ∞ÂΩïËØ∑Ê±ÇÁöÑËß¶ÂèëÈ°∫Â∫èÔºåÈòêËø∞ clash DNS ÈÄö‰ø°ÁöÑÂ∫ïÂ±ÇÈÄªËæë„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Êó†ÁâπÊÆäËØ¥ÊòéÁªü‰∏Ä‰ΩøÁî® clash ‰ª£Áß∞ Clash Âíå Clash.Meta&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÆûÈ™åÂú® Win PC ÊâßË°åÔºåËÄåÈùûËΩØË∑ØÁî±Á≠âÂµåÂÖ•ÂºèËÆæÂ§á&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊØèËΩÆÂÆûÈ™åÁªìÊùüÂêéÊ∏ÖÈô§ÊâÄÊúâ clash ËøûÊé•Ôºå &lt;code>ipconfig \flushdns&lt;/code> Ê∏ÖÈô§ DNS ÁºìÂ≠ò&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÆûÈ™å‰∏≠‰ΩøÁî® clash-verge ÂºïÂØº Clash.Meta ‰ª£ÁêÜÊ†∏ÂøÉÔºåUI ‰øùÊåÅÂá∫ÂéÇËÆæÂÆö&lt;/p>
&lt;/li>
&lt;/ol>
&lt;hr>
&lt;blockquote>
&lt;p>ü™ñÈúÄË¶ÅÊ≥®ÊÑèÔºöClash DNS Object ÊúâÂàùÂßãÂÄºÔºåclash ‰ºöÁî®Á°¨ÁºñÁ†ÅÁöÑÂàùÂßãÂåñÂèÇÊï∞Ë¶ÜÁõñÊàë‰ª¨Áº∫ÁúÅÁöÑÂ≠óÊÆµÔºåÂÖ∑‰ΩìÈªòËÆ§ÂÄºÂèØÁúã‰∏äÊñáÁöÑ &lt;a class="link" href="" >DNS ÈªòËÆ§ÈÖçÁΩÆ&lt;/a> ‰ª•Âèä &lt;a class="link" href="" >UnmarshalRawConfig&lt;/a>„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;p>ÂÆûÈ™åÊåâ‰ª•‰∏ãÊ®°Âùó‰æùÊ¨°Ë°åËøõÔºö&lt;/p>
&lt;ol>
&lt;li>config.yaml ‰∏≠ÁöÑ dns ÈÖçÁΩÆÂ≠óÊÆµ&lt;/li>
&lt;li>wireshark ÊäìÂåÖÔºåËøáÊª§Êù°‰ª∂ÊòØ &lt;code>dns &amp;amp;&amp;amp; ip.dst==192.168.31.178&lt;/code>&lt;/li>
&lt;li>ËøûÊé•Êó•ÂøóÔºàÂèØÁúÅÁï•Ôºâ&lt;/li>
&lt;/ol>
&lt;h2 id="ÈÖçÁΩÆÁØá">ÈÖçÁΩÆÁØá&lt;/h2>
&lt;h3 id="ÂºïÂÖ•-default-nameserver--nameserver">ÂºïÂÖ• default-nameserver &amp;amp; nameserver&lt;/h3>
&lt;blockquote>
&lt;p>üí°ÂâçËÄÖÁî®‰∫éËß£ÊûêÂêéËÄÖÁöÑÂüüÂêçÔºåÂêéËÄÖÁî®‰∫éËß£ÊûêÊàë‰ª¨Ë¶ÅËÆøÈóÆÁöÑÂüüÂêç„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---ÂØπÁÖßÁªÑ--ÈªòËÆ§ÈÖçÁΩÆ">ËßÑÂàôÊ®°Âºè - ÂØπÁÖßÁªÑ | ÈªòËÆ§ÈÖçÁΩÆ&lt;/h4>
&lt;p>‰ªÖËÆæÁΩÆ &lt;em>enable&lt;/em> Â≠óÊÆµÔºåÊ≠§Êó∂ÈááÁî®&lt;a class="link" href="https://www.notion.so/Dive-into-Clash-DNS-a025c9bb5f724972a2ffb7984ae4a6ca?pvs=21" target="_blank" rel="noopener"
>ÂàùÂßãÂåñÁöÑ DNS ÈÖçÁΩÆ&lt;/a>„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂèØ‰ª•ÁúãÂà∞ÔºåÊ†∏ÂøÉÂÖàÂπ∂ÂèëËØ∑Ê±Ç default-nameserver ‰∏≠ÈÖçÁΩÆÁöÑÂõõÊù° DNS IP ÂéªËß£Êûê &lt;code>doh.pub&lt;/code> ÔºàÂÜç‰ΩøÁî® &lt;code>https://doh.pub/dns-query&lt;/code> ËøôÊù° DOH &lt;em>nameserver&lt;/em> ÈÖçÁΩÆÂéªËß£Êûê &lt;code>api.dida365.com&lt;/code>Ôºâ„ÄÇ&lt;/p>
&lt;p>DOH Ë°åËøõÊó∂ÔºåÂüüÂêçÊü•ËØ¢Ë¢´Â∞ÅË£ÖÂú® HTTPS ËØ∑Ê±Ç‰∏≠Ôºå‰ΩøÂÖ∂Êú¨Ë¥®‰∏äÊàê‰∏∫‰∫Ü HTTP ÂçèËÆÆÁ±ªÂûãÁöÑÂä†ÂØÜÊµÅÈáè„ÄÇËøôÁßçÁ±ªÂûãÁöÑËØ∑Ê±ÇÊó†Ê≥ï‰ΩøÁî® protocol==dns ËøõË°åÊçïËé∑ÔºåÂ¶Ç wireshark ÁöÑÊà™ÂõæÊâÄÁ§∫ÔºåÁúã‰∏çÂà∞Êü•ËØ¢ &lt;code>api.dida365.com&lt;/code> ÁöÑÂìçÂ∫îÁ∫™ÂΩï„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192020922.png"
width="1460"
height="193"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192020922_hu89b0e13e4d05c57b691796638e3491eb_142888_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192020922_hu89b0e13e4d05c57b691796638e3491eb_142888_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="756"
data-flex-basis="1815px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>TCP&lt;span class="o">]&lt;/span> 127.0.0.1:64007&lt;span class="o">(&lt;/span>msedge.exe&lt;span class="o">)&lt;/span> --&amp;gt; api.dida365.com:443 match GeoSite&lt;span class="o">(&lt;/span>cn&lt;span class="o">)&lt;/span> using DIRECT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂèØ‰ª•ÂæóÂá∫Â¶Ç‰∏ãÈò∂ÊÆµÊÄßÁªìËÆ∫Ôºö&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>ËÆøÈóÆÂüüÂêçÊó∂ÈÅáÂà∞Áõ¥ËøûÂüüÂêçËßÑÂàôÔºå‰ªéÊú¨Âú∞ÂèëËµ∑ DNS ËØ∑Ê±Ç&lt;/strong>&lt;/p>
&lt;p>&lt;code>api.dida365.com&lt;/code> ÊòØ‰∏Ä‰∏™Âú® &lt;code>geosite:cn&lt;/code> Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑËßÑÂàôÔºåÂÖ∂ÂØπÂ∫î‰∫ÜÊàë‰ª¨ÁöÑÂá∫Á´ôÁ≠ñÁï• &lt;strong>DIRECT&lt;/strong>ÔºàËØ¶ËßÅ‰∏äÊñáÁöÑ rulesÔºâÔºå‰πüÂç≥Ôºå‰∏ãÈù¢Ëøô‰∏§ÁßçÊÉÖÂÜµÊòØÁ≠â‰ª∑ÁöÑ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,CN,DIRECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># A&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida365.com,DIRECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># B&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;em>default-nameserver&lt;/em> ‰ªÖÁî®Êù•Ëß£Êûê &lt;em>nameserver&lt;/em> Â≠óÊÆµ‰∏≠ÈÖçÁΩÆÁöÑÂüüÂêç&lt;/strong>&lt;/p>
&lt;p>Ëøô‰πüËØ¥Êòé‰∫Ü &lt;em>default-nameserver&lt;/em> ‰∏∫‰ªÄ‰πàÂè™ËÉΩÂÜô IP ËÄå‰∏çËÉΩÂÜôÂüüÂêçÔºåËøô‰ºöÈÅáÂà∞ÂÖàÊúâÈ∏°ËøòÊòØÂÖàÊúâËõãÁöÑÈóÆÈ¢ò„ÄÇ‰ΩÜÂÄºÂæó‰∏ÄÊèêÁöÑÊòØÔºå&lt;em>default-nameserver&lt;/em> ÊîØÊåÅ HTTPS ÂÜôÊ≥ï„ÄÇ&lt;/p>
&lt;p>Ëøô‰πüÊÑèÂë≥ÁùÄÔºåÂ¶ÇÊûú &lt;em>nameserver&lt;/em> ‰∏≠Ê≤°ÊúâÈÖçÁΩÆÂüüÂêçÂΩ¢ÂºèÁöÑ &lt;em>DOH/DOT/DOQ&lt;/em>ÔºåÂàô &lt;em>default-nameserver&lt;/em> ÂØπÂ∫îÁöÑ‰∏öÂä°‰ª£Á†Å‰∏ç‰ºöË¢´Ëß¶Âèë„ÄÇÔºàÂÖ∑‰ΩìÊÉÖÂÜµÁúã‰∏ãÊñáÁöÑÊµãËØïÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ÈÄöËøá &lt;em>nameserver&lt;/em> Ëß£ÊûêÊàë‰ª¨Ë¶ÅËÆøÈóÆÁöÑÂüüÂêç&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---‰ªÖËÆæÁΩÆ-nameserver-‰∏∫-dns-ip">ËßÑÂàôÊ®°Âºè - ‰ªÖËÆæÁΩÆ &lt;em>nameserver&lt;/em> ‰∏∫ DNS IP&lt;/h4>
&lt;blockquote>
&lt;p>‰ªéËøôÈáåÂºÄÂßãÊàë‰ª¨Â∞±‰∏çË¥¥ËßÑÂàôÂåπÈÖçÁöÑÊó•Âøó‰∫ÜÔºåÁªìÊûúÈÉΩÂíåÂØπÁÖßÁªÑ‰∏ÄÊ†∑„ÄÇÊàë‰ª¨Âú®‰ªÖ‰øÆÊîπ DNS ÈÖçÁΩÆÁöÑÊÉÖÂÜµ‰∏ãÔºåÂêå‰∏Ä target ÁöÑÂá∫Á´ôÁ≠ñÁï•‰∏çÂèóÂΩ±Âìç„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ë°åËøõÊ≠•È™§Â¶Ç‰∏ãÔºö&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ΩøÁî® &lt;em>nameserver&lt;/em> Ëß£ÊûêÊàë‰ª¨Ë¶ÅËÆøÈóÆÁöÑÂüüÂêç&lt;/p>
&lt;p>ÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÂêëÔºà‰∫∫‰∏∫ÈÖçÁΩÆÁöÑÔºâ223.5.5.5 ÂèëËµ∑‰∫ÜÊòéÊñá DNS ËØ∑Ê±ÇÂπ∂Êî∂Âà∞‰∫ÜÊü•ËØ¢ÂìçÂ∫î„ÄÇÂÖ∂‰∏≠ÔºåÈô§‰∫ÜÊàë‰ª¨ËÆøÈóÆÁöÑ &lt;code>api.dida365.com&lt;/code> ÔºåËøòËÉΩÁúãÂà∞ÂÖ∂‰ªñÈ©ªÂè∞Á®ãÂ∫èÂèëËµ∑ÁöÑ DNS ËØ∑Ê±Ç„ÄÇ&lt;/p>
&lt;p>ÊòæÁÑ∂ÔºåËøô‰∏éÂØπÁÖßÁªÑÁöÑÁªìÊûú‰∏ç‰∏ÄËá¥„ÄÇ&lt;/p>
&lt;p>ÂÖ∑‰ΩìÊù•ËØ¥ ÔºåÊàë‰ª¨Âú®ÂØπÁÖßÁªÑÔºàÈªòËÆ§ÈÖçÁΩÆÔºâ‰∏ã‰ΩøÁî® DOH &lt;a class="link" href="https://doh.pub/dns-query" target="_blank" rel="noopener"
>https://doh.pub/dns-query&lt;/a> ÂèëÈÄÅÂüüÂêçËß£ÊûêËØ∑Ê±ÇÔºåËøô‰∏™ËØ∑Ê±ÇÊòØ‰∏Ä‰∏™Â∞ÅË£ÖÂú® HTTPS Êï∞ÊçÆÂåÖ‰∏≠ÁöÑÂä†ÂØÜÁî≥ËØ∑ÔºåÊàë‰ª¨Êó†Ê≥ïÂú®ËøáÊª§Êù°‰ª∂‰∏∫ &lt;code>dns&lt;/code> ÁöÑÁ≠õÈÄâ‰∏≠ÊçïËé∑Âà∞ËøôÊù°Ëß£ÊûêËØ∑Ê±Ç„ÄÇËÄåÊú¨ÁªÑÂÆûÈ™åËÆæÁΩÆ‰∏≠‰ΩøÁî®‰∫ÜÊú™ÁªèÂä†ÂØÜÁöÑÁî≥ËØ∑Ôºå‰πüÂç≥ &lt;strong>udp://223.5.5.5:53&lt;/strong>ÔºàË°åËøõÊ∫êÁ†ÅËá™Âä®Ë°•ÂÖ®‰∏∫ URLÔºâÔºåËøôÊòØ‰∏ÄÊù°ÂëΩ‰∏≠ &lt;code>dns&lt;/code> ËøáÊª§ËßÑÂàôÁöÑËØ∑Ê±ÇÔºåÊàë‰ª¨‰∏ç‰ªÖÂèØ‰ª•ÊçïËé∑Âà∞ÂÆÉÔºåËøòËÉΩÁúãËßÅÂÆÉÁöÑ Message/InformationÔºåÂç≥ÔºåË¶ÅËÆøÈóÆ/Ë¶ÅËß£ÊûêÁöÑÁ´ôÁÇπ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Áî±‰∫é&lt;strong>Êàë‰ª¨Êú™ÈÖçÁΩÆÂüüÂêçÂΩ¢ÂºèÁöÑ DOH&lt;/strong>ÔºåÊâÄ‰ª• &lt;em>default-nameserver&lt;/em> Áõ∏ÂÖ≥Ë°åËøõ‰ª£Á†ÅÊú™Ë¢´Ëß¶Âèë„ÄÇ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192539131.png"
width="1460"
height="136"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192539131_hu46dbbc8a5173a5abc7d300ae0aea994b_116519_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192539131_hu46dbbc8a5173a5abc7d300ae0aea994b_116519_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="1073"
data-flex-basis="2576px"
>&lt;/p>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---‰ªÖËÆæÁΩÆ-nameserver-‰∏∫-doh-ip">ËßÑÂàôÊ®°Âºè - ‰ªÖËÆæÁΩÆ &lt;em>nameserver&lt;/em> ‰∏∫ DOH: IP&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://223.5.5.5/dns-query&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ë°åËøõÊ≠•È™§Â¶Ç‰∏ãÔºö&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ΩøÁî® &lt;em>nameserver&lt;/em> Ëß£ÊûêÊàë‰ª¨Ë¶ÅËÆøÈóÆÁöÑÂüüÂêç&lt;/p>
&lt;p>Êàë‰ª¨Âêë IP ÂΩ¢ÂºèÁöÑ DOH ÂèëËµ∑‰∫ÜÂØπ &lt;code>api.dida365.com&lt;/code> ÂüüÂêçËß£ÊûêËØ∑Ê±ÇÔºåËØ∑Ê±ÇË¢´Âä†ÂØÜÂà∞ HTTPS Êï∞ÊçÆÂåÖ‰∏≠ÔºåÈÄöËøá dns Á≠õÈÄâÊó†Ê≥ïÊçïËé∑„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Áî±‰∫é&lt;strong>Êàë‰ª¨Êú™ÈÖçÁΩÆÂüüÂêçÂΩ¢ÂºèÁöÑ DOH&lt;/strong>ÔºåÊâÄ‰ª• &lt;em>default-nameserver&lt;/em> Áõ∏ÂÖ≥Ë°åËøõ‰ª£Á†ÅÊú™Ë¢´Ëß¶Âèë„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192605396.png"
width="1460"
height="112"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192605396_huc4d0330bb6469d0aba90b1a0f2013393_18988_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192605396_huc4d0330bb6469d0aba90b1a0f2013393_18988_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="1303"
data-flex-basis="3128px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂΩìÊàë‰ª¨Á≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ÈôÜÁª≠Êî∂Âà∞Êù•Ëá™Á≥ªÁªüDNSÔºàÁΩëÂÖ≥ÔºâËøîÂõûÁöÑ DNS Êü•ËØ¢ÂìçÂ∫î„ÄÇÊåâÁêÜËØ¥ÔºåÊàë‰ª¨ÁöÑËØ∑Ê±Ç‰∏çÊòØË¢´Âä†ÂØÜ‰∫ÜÂêóÔºüË¶ÅÂìçÂ∫î‰πüÂ∫îËØ•ÊòØ HTTPS Á±ªÂûãÁöÑÂçèËÆÆÔºåÂÜç‰∏çÊµé‰πüÂ∫îËØ•ÊòØÈòøÈáåÊúçÂä°Âô®ËøîÂõûÁöÑÂìçÂ∫îÂïäÔºüÔºà‰πüÂç≥ &lt;code>dns &amp;amp;&amp;amp; ip.src==223.5.5.5&lt;/code>ÔºâÊÄé‰πà‰ºöÊúâÊù•Ëá™Êú¨Âú∞ËøêËê•ÂïÜÂèëÊù•ÁöÑ DNS Êü•ËØ¢ÂìçÂ∫îÂë¢Ôºü&lt;/p>
&lt;p>ËøôÊ∂âÂèäÂà∞ Windows Êìç‰ΩúÁ≥ªÁªüÁ∫ßÁöÑ DNS Êü•ËØ¢ÁªÑÁ≠ñÁï•ÔºåÊàë‰ª¨ÂêéÊñáÁªÜËØ¥„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192620101.png"
width="1460"
height="153"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192620101_hu0f3f6089e9ff7f8c928d1d3e58376b90_177260_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192620101_hu0f3f6089e9ff7f8c928d1d3e58376b90_177260_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="954"
data-flex-basis="2290px"
>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---‰ªÖËÆæÁΩÆ-nameserver-‰∏∫-doh-domain">ËßÑÂàôÊ®°Âºè - ‰ªÖËÆæÁΩÆ &lt;em>nameserver&lt;/em> ‰∏∫ DOH: domain&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://dns.alidns.com/dns-query&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÊòØ‰∏çÊòØÁÜüÊÇâÁöÑÊÑüËßâÂèàÂõûÊù•‰∫Ü~üêß&lt;/p>
&lt;p>Ë°åËøõÊ≠•È™§Â¶Ç‰∏ãÔºö&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ΩøÁî® &lt;em>nameserver&lt;/em> Ëß£ÊûêÊàë‰ª¨Ë¶ÅËÆøÈóÆÁöÑÂüüÂêç&lt;/p>
&lt;p>‰∏éÂØπÁÖßÁªÑÁöÑÊÉÖÂÜµ‰∏ÄÁõ¥ÔºåËøôÊòØ‰∏™Âä†ÂØÜËØ∑Ê±ÇÔºåÂêéÊñá‰∏çÂÜçËµòËø∞„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Êàë‰ª¨ÈÖçÁΩÆ‰∫ÜÂüüÂêçÂΩ¢ÂºèÁöÑ DOH&lt;/strong>Ôºå&lt;em>default-nameserver&lt;/em> Áõ∏ÂÖ≥‰ª£Á†ÅÂºÄÂßãÊâßË°å„ÄÇ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192644224.png"
width="1460"
height="195"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192644224_huc93d893886078e68ba7f92e3db185b57_261789_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192644224_huc93d893886078e68ba7f92e3db185b57_261789_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="748"
data-flex-basis="1796px"
>&lt;/p>
&lt;h3 id="ÂºïÂÖ•-namesever-policy">ÂºïÂÖ• namesever-policy&lt;/h3>
&lt;blockquote>
&lt;p>üí°‰ºòÂÖàÁ∫ßÈ´ò‰∫é &lt;em>nameserver&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---ÂêåÊó∂ËÆæÁΩÆ-nameserver-policy-Âíå-nameserver">ËßÑÂàôÊ®°Âºè - ÂêåÊó∂ËÆæÁΩÆ &lt;em>nameserver-policy&lt;/em> Âíå &lt;em>nameserver&lt;/em>&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida365.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">1.0.0.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂëΩ‰∏≠ËßÑÂàôÔºå‰ΩøÁî® &lt;em>nameserver-policy&lt;/em> Ëß£ÊûêÂüüÂêç &lt;code>api.dida365.com&lt;/code>&lt;/p>
&lt;p>ÂΩìÊàë‰ª¨ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> Êó∂‰ºòÂÖà‰ΩøÁî® 1.0.0.1 ËøõË°åÂüüÂêçËß£Êûê„ÄÇÈô§Ê≠§‰πãÂ§ñÊâÄÊúâÁöÑ DNS ËØ∑Ê±ÇÈÉΩËµ∞ 223.5.5.5ÔºåÊØîÂ¶ÇÈöèÂêéÂìçÂ∫îÁöÑ&lt;code>cdn.dida365.com&lt;/code>„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Áî±‰∫é &lt;em>nameserver&lt;/em> Âíå &lt;em>nameserver-policy&lt;/em> ÈÉΩ‰∏çÂ≠òÂú®ÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> Áõ∏ÂÖ≥‰ª£Á†Å‰∏çÂêØÂä®&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192921676.png"
width="1460"
height="310"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192921676_hua0bab46442daaaf97a1159327dd136a8_462319_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192921676_hua0bab46442daaaf97a1159327dd136a8_462319_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="470"
data-flex-basis="1130px"
>&lt;/p>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---Ê∑∑Áî®-doh">ËßÑÂàôÊ®°Âºè - Ê∑∑Áî® DOH&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">119.29.29.29&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ËÖæËÆØ IPv4 DNS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida365.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://dns.alidns.com/dns-query&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>‰∏ÄË∑ØÁúãÂà∞Ëøô‰Ω†Â∫îËØ•ËÉΩËá™Â∑±ÊÄªÁªìË°åËøõÊ≠•È™§‰∫Ü~üêß&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂëΩ‰∏≠ËßÑÂàôÔºå‰ΩøÁî® &lt;em>nameserver-policy&lt;/em> Ëß£ÊûêÂüüÂêç &lt;code>api.dida365.com&lt;/code>&lt;/p>
&lt;p>&lt;em>nameserver-policy&lt;/em> ‰ºòÂÖàÁîüÊïàÔºåÈáåÈù¢ÊúâÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> ÂêØÂä® ÔºõËß£Êûê &lt;code>api.dida365.com&lt;/code> ÁöÑ DNS ËØ∑Ê±ÇË¢´Âä†ÂØÜÊàê HTTPSÔºåÂú® dns Á≠õÈÄâ‰∏≠‰∏çÊòæÁ§∫„ÄÇ&lt;/p>
&lt;p>Èô§Ê≠§‰πãÂ§ñÊâÄÊúâÁöÑ DNS ËØ∑Ê±ÇÈÉΩËµ∞ 119.29.29.29ÔºåÊØîÂ¶ÇÈöèÂêéÂìçÂ∫îÁöÑ&lt;code>cdn.dida365.com&lt;/code>„ÄÇ&lt;em>nameserver&lt;/em> ‰∏≠Ê≤°ÊúâÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> ‰∏çÂêØÂä®„ÄÇ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192944128.png"
width="1460"
height="201"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192944128_hue5f237253565dcb1eae698991c88faed_259286_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715192944128_hue5f237253565dcb1eae698991c88faed_259286_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="726"
data-flex-basis="1743px"
>&lt;/p>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---‰ªÖËÆæÁΩÆ-nameserver-policy-‰∏∫-doh-ip">ËßÑÂàôÊ®°Âºè - ‰ªÖËÆæÁΩÆ &lt;em>nameserver-policy&lt;/em> ‰∏∫ DOH: IP&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida365.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://223.5.5.5/dns-query&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂëΩ‰∏≠ËßÑÂàôÔºå‰ΩøÁî® &lt;em>nameserver-policy&lt;/em> Ëß£ÊûêÂüüÂêç &lt;code>api.dida365.com&lt;/code>&lt;/p>
&lt;p>&lt;em>nameserver-policy&lt;/em> ÁîüÊïàÔºåÈáåÈù¢Ê≤°ÊúâÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> ‰∏çÂêØÂä® ÔºõËß£Êûê &lt;code>api.dida365.com&lt;/code> ÁöÑ DNS ËØ∑Ê±ÇË¢´Âä†ÂØÜÊàê HTTPSÔºåÂú® dns Á≠õÈÄâ‰∏≠‰∏çÊòæÁ§∫„ÄÇ&lt;/p>
&lt;p>ÂÖ∂‰ªñÁöÑ DNS ËØ∑Ê±ÇÈÉΩËµ∞ &lt;em>nameserver&lt;/em> ,‰πüÂç≥ÈªòËÆ§ÂÄº &lt;code>https://doh.pub/dns-query&lt;/code> ÔºåËøôÊòØ‰∏ÄÊù°ÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> ÂêØÂä®„ÄÇ&lt;/p>
&lt;p>ÊòæÁÑ∂ÔºåËµ∞ DOH ÁöÑ DNS ËØ∑Ê±ÇË¢´Âä†ÂØÜÔºåÂú® wireshark ÁªìÊûú‰∏≠Áúã‰∏çÂà∞ target ÂìçÂ∫î&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193000271.png"
width="1460"
height="179"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193000271_hua540d46dbc336b4d471f80e0f323031e_217105_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193000271_hua540d46dbc336b4d471f80e0f323031e_217105_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="815"
data-flex-basis="1957px"
>&lt;/p>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---‰ªÖËÆæÁΩÆ-nameserver-policy-‰∏∫-doh-domain">ËßÑÂàôÊ®°Âºè - ‰ªÖËÆæÁΩÆ &lt;em>nameserver-policy&lt;/em> ‰∏∫ DOH: domain&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida365.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://dns.alidns.com/dns-query&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂëΩ‰∏≠ËßÑÂàôÔºå‰ΩøÁî® &lt;em>nameserver-policy&lt;/em> Ëß£ÊûêÂüüÂêç &lt;code>api.dida365.com&lt;/code>&lt;/p>
&lt;p>&lt;em>nameserver-policy&lt;/em> ÁîüÊïàÔºåÈáåÈù¢ÊúâÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> ÂêØÂä® ÔºõËß£Êûê &lt;code>api.dida365.com&lt;/code> ÁöÑ DNS ËØ∑Ê±ÇË¢´Âä†ÂØÜÊàê HTTPSÔºåÂú® dns Á≠õÈÄâ‰∏≠‰∏çÊòæÁ§∫„ÄÇ&lt;/p>
&lt;p>ÂÖ∂‰ªñÁöÑ DNS ËØ∑Ê±ÇÈÉΩËµ∞ &lt;em>nameserver&lt;/em> ,ÁªìÊûúÂêå‰∏ä‰∏ÄÂàôÂÆûÈ™å‰∏ÄËá¥„ÄÇ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193019120.png"
width="1460"
height="409"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193019120_huc1e892ccf6da88c04cbcd53b7caa8e67_512936_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193019120_huc1e892ccf6da88c04cbcd53b7caa8e67_512936_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="356"
data-flex-basis="856px"
>&lt;/p>
&lt;h3 id="ÂºïÂÖ•-dns-ÂàÜÊµÅ">ÂºïÂÖ• DNS ÂàÜÊµÅ&lt;/h3>
&lt;blockquote>
&lt;p>üí°‰Ω†Â¶ÇÊûúÊòØ‰∏Ä‰∏™ Clash È™®ÁÅ∞Á∫ßÁé©ÂÆ∂ÊàñÊòØÈ°πÁõÆÁöÑÊ†∏ÂøÉË¥°ÁåÆËÄÖÔºå‰πüËÆ∏ÊúâËøôÊ†∑ÁöÑÊÑüÊÇüÔºöDNS ÊòØ clash Á±ªÈ°πÁõÆËÆæËÆ°ÊúÄ‰∏∫Á≤æÂ¶ô‰πüÊòØÊúÄÂ§çÊùÇÁöÑÊú∫Âà∂ÔºåÁîöËá≥Ê≤°Êúâ‰πã‰∏Ä„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---ÂüüÂêçËßÑÂàôÁöÑËß£Êûê">ËßÑÂàôÊ®°Âºè - ÂüüÂêçËßÑÂàôÁöÑËß£Êûê&lt;/h4>
&lt;p>Ê∑ªÂä†Âá∫Á´ôËßÑÂàôÔºåÂ∞Ü &lt;code>api.dida365.com&lt;/code> ËÆæ‰∏∫ &lt;em>#PROXY&lt;/em> Âá∫Á´ôÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Âú®ÂØπÁÖßËßÑÂàô‰πãÂâçËØ•Êù°Ê∑ªÂä†ËßÑÂàô&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida365.com,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># -- skip --&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>‰ΩøÁî® 8.8.8.8 Ê†áËÆ∞ &lt;code>api.dida365.com&lt;/code> Ôºå‰ΩøÁî® 223.5.5.5 Ê†áËÆ∞ÂÖ∂‰ªñËØ∑Ê±ÇÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://dns.alidns.com/dns-query&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida365.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://dns.google/dns-query&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">8.8.8.8&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú®ÂºÄÂßãËØ•ÁªÑÂÆûÈ™åÂâçÔºåÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆ‰∏äÊñáÂÆûÈ™åÁªìÊûúÊèêÂá∫Â¶Ç‰∏ãÂÅáËÆæÔºö&lt;/p>
&lt;p>&lt;strong>&amp;lt;A&amp;gt;&lt;/strong> ‚úÖ Â¶ÇÊûúÊµèËßàÂô®Âêë &lt;code>api.dida365.com&lt;/code> ÂèëÂá∫ËØ∑Ê±ÇÔºåÂøÖÁÑ∂Ëß¶Âèë &lt;em>nameserver-policy&lt;/em> ÁöÑÂüüÂêçËß£Êûê‰ªªÂä°Ôºõ&lt;em>nameserver-policy&lt;/em> ÂÜÖÊúâÂüüÂêçÂΩ¢ÂºèÁöÑDOHÔºåÂøÖÁÑ∂‰ºö‰ΩøÁî® &lt;em>default-nameserver&lt;/em>ÔºàÂπ∂ÂèëÔºâËß£Êûê &lt;code>dns.google&lt;/code> ÔºåÊúÄÂêé‰ΩøÁî®Ëß£ÊûêÂà∞ÁöÑ DOH IP Âíå 8.8.8.8 ÔºàÂπ∂ÂèëÔºâËß£Êûê &lt;code>api.dida365.com&lt;/code>„ÄÇ&lt;/p>
&lt;p>&lt;strong>&amp;lt;B&amp;gt;&lt;/strong> ‚úÖ ÔºàÂÅáËÆæÊ≤°ÊúâÂèëÁîü IP ËßÑÂàôÂåπÈÖçÔºâÂÖ∂‰ªñÁöÑÂüüÂêçÁõ¥ËøûËØ∑Ê±Ç‰ΩøÁî® &lt;em>nameserver&lt;/em> ËøõË°åËß£ÊûêÔºåÊòæÁÑ∂ &lt;em>nameserver&lt;/em> ÁªÑÂÜÖ‰πüÊúâÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºåÂøÖÁÑ∂‰ΩøÁî® &lt;em>default-nameserver&lt;/em> ÔºàÂπ∂ÂèëÔºâËß£Êûê &lt;code>dns.alidns.com&lt;/code> Ôºå‰ΩøÁî®Ëß£ÊûêÂà∞ÁöÑ DOH IP Âíå 223.5.5.5 Âπ∂ÂèëÊü•ËØ¢Êàë‰ª¨Ë¶ÅËÆøÈóÆÁöÑÂüüÂêç„ÄÇ&lt;/p>
&lt;p>ÊäìÂåÖÁªìÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºàÈöêÂéªËã•Âπ≤Êù°ÊùÇË¥®Êï∞ÊçÆÔºâÔºö&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193212997.png"
width="1460"
height="387"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193212997_hu5bf5753870fe65ca3599d58c7db4ff4e_489021_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193212997_hu5bf5753870fe65ca3599d58c7db4ff4e_489021_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="377"
data-flex-basis="905px"
>&lt;/p>
&lt;blockquote>
&lt;p>üè¥‚Äç‚ò†Ô∏è Êàë‰ª¨ÂÖàÂú®Ëøô‰∏™ÁªÑÂÆûÈ™å‰∏≠ÊäõÂá∫ &amp;lt;DNSÊ≥ÑÊºè&amp;gt; ÁöÑÊ¶ÇÂøµÔºåÂÖ∑‰ΩìÂÜÖÂÆπÂêéÊñáÁªÜËØ¥„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;p>ÂèØ‰ª•ÂæóÂá∫Â¶Ç‰∏ãËßÇÂØüÁ∫™ÂΩïÔºö&lt;/p>
&lt;p>È¶ñÂÖàÔºåÊàë‰ª¨ËÉΩËßÇÂØüÂà∞ &lt;em>default-nameserver&lt;/em> ÂºÄÂßãËß£Êûê &lt;code>dns.alidns.com&lt;/code> ÂüüÂêçÔºåËØ¥Êòé &lt;em>nameserver&lt;/em> Ë¢´Ëß¶ÂèëÔºåËØ¥ÊòéÊúâÂÖ∂‰ªñ&lt;strong>ÂüüÂêçÁõ¥ËøûËØ∑Ê±ÇÂëΩ‰∏≠‰∫Ü DIRECT ÂüüÂêçËßÑÂàô&lt;/strong>ÔºàÂÅáËÆæÊ≤°ÊúâÂèëÁîü IP ËßÑÂàôÂåπÈÖçÔºâ„ÄÇ&lt;/p>
&lt;p>ËÄåÂΩìÊàë‰ª¨‰∏çÈó¥Êñ≠Âú∞ËØ∑Ê±Ç &lt;code>api.dida365.com&lt;/code> Êó∂ÔºåÊàë‰ª¨‰∏∫ÂÖ∂ÈÖçÁΩÆÁöÑ &lt;em>nameserver-policy&lt;/em> Âπ∂Êú™ÁîüÊïàÔºåÊàë‰ª¨Âú® &lt;strong>&amp;lt;A&amp;gt;&lt;/strong> ‰∏≠ÂÅáË±°ÁöÑÈÄªËæëÈìæÊ≤°ÊúâÂèëÁîüÔºå‰πüÂç≥Ôºåclash Âπ∂Êú™Âêë &lt;em>default-nameserver&lt;/em> ÂèëËµ∑ÈíàÂØπ &lt;code>dns.google&lt;/code> ÁöÑÂüüÂêçËß£ÊûêËØ∑Ê±ÇÔºåÊàñËÄÖËØ¥ÔºåÊú¨Âú∞Ê≤°ÊúâÂèëËµ∑ÂØπ &lt;code>api.dida365.com&lt;/code> ÁöÑÁõ¥ËøûËÆøÈóÆËØ∑Ê±Ç„ÄÇ&lt;/p>
&lt;p>ÊòæÁÑ∂Ôºå&lt;strong>Êàë‰ª¨Â∞Ü &lt;code>api.dida365.com&lt;/code> ËÆæÁΩÆ‰∏∫ &lt;em>PROXY&lt;/em> Âá∫Á´ôÂêéÔºåËÆøÈóÆÁõÆÊ†áÁ´ôÁÇπÁöÑÂ∑•‰Ωú‰∫§Áî±ËøúÁ®ãÊúçÂä°Âô®ÂÆåÊàêÔºåËá™ÁÑ∂Âú∞ÔºåÂüüÂêçËß£ÊûêÁöÑÂ∑•‰Ωú‰πüÁî±ËøúÁ®ãÊúçÂä°Âô®ÂÆåÊàê&lt;/strong>„ÄÇÊú¨Âú∞ÂÅöÁöÑÔºåÂè™ÊòØÂ∞ÜËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÁöÑ‰ª£ÁêÜËØ∑Ê±ÇÂëàÈÄÅËá≥ËøúÁ®ãÊúçÂä°Âô®Ôºå‰πüÂç≥ÔºåÂëΩ‰∏≠ &lt;em>PROXY&lt;/em> ÂüüÂêçËßÑÂàôÂêéÔºåclash ‰ºöÁõ¥Êé•Ë∑≥Ëøá DNS Ê≠•È™§ÂêëËøúÁ®ãÊúçÂä°Âô®ÂëàÈÄÅÊï∞ÊçÆÂåÖ„ÄÇ&lt;/p>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---ÂüüÂêçËßÑÂàôÁöÑËß£Êûê---È™åËØÅ">ËßÑÂàôÊ®°Âºè - ÂüüÂêçËßÑÂàôÁöÑËß£Êûê - È™åËØÅ&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>È™åËØÅ &amp;lt;1&amp;gt;&lt;/strong>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida36768990.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">8.8.8.8&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida36768990.com,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># -- skip --&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida36768990.com&lt;/code>ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂëΩ‰∏≠ËßÑÂàôÔºå‰ΩøÁî® &lt;em>nameserver-policy&lt;/em> Ëß£ÊûêÂüüÂêç &lt;code>api.dida365.com&lt;/code>&lt;/p>
&lt;p>&lt;em>nameserver-policy&lt;/em> ÁîüÊïàÔºåÈáåÈù¢Ê≤°ÊúâÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> ‰∏çÂêØÂä®ÔºåÁõ¥Êé•‰ΩøÁî® 8.8.8.8 Ëß£Êûê &lt;code>api.dida36768990.com&lt;/code>„ÄÇ&lt;/p>
&lt;p>ÊòæÁÑ∂ÔºåËøôÊòØ‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑÂüüÂêçÔºåDNS ÂìçÂ∫îÂá∫Áé∞ no such name ÈîôËØØ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193406460.png"
width="1460"
height="236"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193406460_hua2a577e573b6e2308569eba0d075462a_349695_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193406460_hua2a577e573b6e2308569eba0d075462a_349695_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="618"
data-flex-basis="1484px"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>È™åËØÅ &amp;lt;2&amp;gt;&lt;/strong>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida36768990.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">8.8.8.8&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Âú®ÂØπÁÖßÁªÑ‰πãÂâçÊ∑ªÂä†ËßÑÂàô&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida36768990.com,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida365.com,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># -- skip --&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>&lt;strong>ÊÉÖÂÜµ1&lt;/strong>ÔºöÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;p>Êú™ÂëΩ‰∏≠ &lt;em>nameserver-policy&lt;/em>ÔºåÂàáÊç¢Ëá≥ &lt;em>nameserver&lt;/em> ÔºåÁªÑÂÜÖÊ≤°ÊúâÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> ‰∏çÂêØÂä®ÔºåÁõ¥Êé•Âêë 223.5.5.5 ÂèëËµ∑ÂüüÂêçËß£ÊûêËØ∑Ê±ÇÔºàÁªøËâ≤ËÆ∞ÂΩïÔºâ„ÄÇ&lt;/p>
&lt;p>ÂÖ∂‰ªñÂëΩ‰∏≠&lt;strong>ÂüüÂêçÁõ¥ËøûËßÑÂàô&lt;/strong>ÁöÑËØ∑Ê±Ç‰πüÊòØÁî® nameserver ËøõË°åÂüüÂêçËß£ÊûêÔºàÊ©ôËâ≤ËÆ∞ÂΩïÔºâ„ÄÇ&lt;/p>
&lt;p>Áõ∏ÂÖ≥ DNS ËØ∑Ê±ÇÂùáÊú™Ë¢´Âä†ÂØÜÔºåÂèØ‰ª•ÁúãÂà∞ÊäìÂåÖËÆ∞ÂΩï„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ÊÉÖÂÜµ2&lt;/strong>ÔºöÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida36768990.com&lt;/code>ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;p>ÂëΩ‰∏≠ &lt;em>nameserver-policy&lt;/em>ÔºåÁªÑÂÜÖÊ≤°ÊúâÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> ‰∏çÂêØÂä®ÔºåÁõ¥Êé•Âêë 8.8.8.8 ÂèëËµ∑ÂüüÂêçËß£ÊûêËØ∑Ê±Ç„ÄÇÊòæÁÑ∂ÔºåËøôÊòØ‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑÂüüÂêçÔºåDNS ÂìçÂ∫îÂá∫Áé∞ no such name ÈîôËØØÔºàÈªÑËâ≤ËÆ∞ÂΩïÔºâ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193441482.png"
width="1460"
height="317"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193441482_hu08f23afb31c4c6256fbfcb60c2b38ac3_437478_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193441482_hu08f23afb31c4c6256fbfcb60c2b38ac3_437478_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="460"
data-flex-basis="1105px"
>&lt;/p>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---ip-ËßÑÂàôÁöÑËß£Êûê">ËßÑÂàôÊ®°Âºè - IP ËßÑÂàôÁöÑËß£Êûê&lt;/h4>
&lt;p>È¶ñÂÖà‰øÆÊîπÂá∫Á´ôËßÑÂàôÔºåÂàÜÂà´‰ΩøÁî® 223.5.5.5 Âíå 180.76.76.76 Ê†áËÆ∞ &lt;code>api.dida365.com&lt;/code> Âíå &lt;code>api.dida36768990.com&lt;/code> ÂÖ∂‰ΩôÁõ¥ËøûËØ∑Ê±Ç‰ΩøÁî® 119.29.29.29„ÄÇËøôÈáå‰∏∫‰∫Ü trace Á∫™ÂΩïÂπ≤ÂáÄÊï¥Ê¥Å‰æø‰∫éÂéüÁêÜÂàÜÊûêÔºåÂ∞±‰∏ç‰ΩøÁî®ÂüüÂêç DOH ‰∫Ü„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">119.29.29.29&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida365.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida36768990.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">180.76.76.76&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,CN,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida36768990.com,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida365.com,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida365.com&lt;/code> ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ÈÅáÂà∞&lt;/strong> &lt;strong>GEOIP ‰ª£ÁêÜËßÑÂàôÔºåÂèëËµ∑Êú¨Âú∞ DNS Êü•ËØ¢&lt;/strong>&lt;/p>
&lt;p>ÂæàÂ§öÂ∞è‰ºô‰ª¨Âõ∞ÊÉëÁöÑÁÇπÂ∞±Âú®Ëøô‰∫ÜÔºÅÊ†πÊçÆÊàë‰ª¨‰∏äÊñáÊèêÂà∞ÁöÑÁªìËÆ∫ÔºåËÆøÈóÆÂüüÂêçÊó∂ÈÅáÂà∞ IP ËßÑÂàô‰ºöËøõË°åDNS Ëß£ÊûêÔºåÈÅáÂà∞‰ª£ÁêÜËßÑÂàô‰ºöÂ∞ÜËØ∑Ê±ÇÂëàÈÄÅËá≥ËøúÁ®ãÊúçÂä°Âô®„ÄÇÈÇ£ËøôÁßçÁâπÊÆäÊÉÖÂÜµÂà∞Â∫ïÊòØÂÖàËøõË°å DNS Ëß£ÊûêËøòÊòØÁõ¥Êé•Â∞ÜÊï∞ÊçÆÂåÖÂëàÈÄÅÂà∞ËøúÁ®ãÊúçÂä°Âô®Ë∑≥ËøáDNSËß£ÊûêÂë¢Ôºü&lt;/p>
&lt;p>&lt;strong>ËÆøÈóÆÂüüÂêçÊó∂ÈÅáÂà∞ IP ËßÑÂàôÔºåÂÖàËøõË°åÊú¨Âú∞ DNS Ëß£ÊûêÔºåÂ∞ÜË¶ÅËØ∑Ê±ÇÁöÑÂüüÂêçËß£ÊûêÊàê IPÔºåÂÜç‰∏é IP ËßÑÂàôÈõÜ‰∏≠ÁöÑ IP ËøõË°åÂåπÈÖçÔºåÂ¶ÇÊûúÂëΩ‰∏≠ÔºåÂá∫Á´ôËßÑÂàôÁîüÊïàÔºåÂê¶ÂàôËøõÂÖ•‰∏ã‰∏Ä‰∏™ËßÑÂàôÈõÜ„ÄÇ&lt;/strong>&lt;/p>
&lt;p>&lt;strong>ËÆøÈóÆÂüüÂêçÊó∂ÈÅáÂà∞ÂüüÂêçËßÑÂàôÔºåÂ¶ÇÊûúÊòØÁõ¥ËøûÂá∫Á´ôÔºåÂàôÁî±Êú¨Âú∞ÂèëËµ∑ DNS Êü•ËØ¢ÔºõÂ¶ÇÊûúÊòØ‰ª£ÁêÜÂá∫Á´ôÔºåÂàôË∑≥Ëøá DNS Êü•ËØ¢Âπ∂Â∞Ü‰ª£ÁêÜËØ∑Ê±ÇÂëàÈÄÅËá≥ËøúÁ®ãÊúçÂä°Âô®„ÄÇ&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂëΩ‰∏≠ËßÑÂàôÔºå‰ΩøÁî® &lt;em>namesever-policy&lt;/em> Ëß£ÊûêÂüüÂêç &lt;code>api.dida365.com&lt;/code>&lt;/p>
&lt;p>Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÊú¨Âú∞Âêë 233.5.5.5 ÂèëËµ∑‰∫ÜÈíàÂØπ &lt;code>api.dida365.com&lt;/code> ÁöÑ DNS ËØ∑Ê±ÇÔºåËøôÈ™åËØÅ‰∫ÜÊàë‰ª¨ÂâçÊñáËØ¥ÁöÑÂÜÖÂÆπ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193528765.png"
width="1460"
height="169"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193528765_hudfd0dc39c88ff2f81e7f1d77ea97ec90_216141_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193528765_hudfd0dc39c88ff2f81e7f1d77ea97ec90_216141_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="863"
data-flex-basis="2073px"
>&lt;/p>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---ip-ËßÑÂàôÁöÑËß£Êûê---ÂéüÁêÜÂâñÊûê">ËßÑÂàôÊ®°Âºè - IP ËßÑÂàôÁöÑËß£Êûê - ÂéüÁêÜÂâñÊûêüè¥‚Äç‚ò†Ô∏è&lt;/h4>
&lt;p>ÂÖàÈòÖËØª‰∏ä‰∏ÄËäÇÔºåÂê¶Âàô‰Ω†ÂèØËÉΩÁúã‰∏çÊáÇËøôÈáåÂÜôÁöÑ‰∏úË•ø„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">119.29.29.29&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida365.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida36768990.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">180.76.76.76&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,CN,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida36768990.com,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida365.com,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>
&lt;p>ÊµèËßàÂô®ËÆøÈóÆ &lt;code>api.dida36768990.com&lt;/code>ÔºåËØ∑Ê±ÇÈÄöËøáÁ≥ªÁªü‰ª£ÁêÜËøõÂÖ• clash&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ÈÅáÂà∞&lt;/strong> &lt;strong>GEOIP ‰ª£ÁêÜËßÑÂàôÔºåÂèëËµ∑Êú¨Âú∞ DNS Êü•ËØ¢&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂëΩ‰∏≠ËßÑÂàôÔºå‰ΩøÁî® &lt;em>namesever-policy&lt;/em> Ëß£ÊûêÂüüÂêç &lt;code>api.dida36768990.com&lt;/code>&lt;/p>
&lt;p>ÁªÑÂÜÖÊ≤°ÊúâÂüüÂêçÂΩ¢ÂºèÁöÑ DOHÔºå&lt;em>default-nameserver&lt;/em> ‰∏çÂêØÂä®ÔºåÁõ¥Êé•‰ΩøÁî® 180.76.76.76 ËøõË°åÂüüÂêçËß£Êûê„ÄÇÊòæÁÑ∂ÔºåÊàë‰ª¨Ë¶ÅËÆøÈóÆÁöÑÊòØ‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑÂüüÂêçÔºåËá™ÁÑ∂Êó†Ê≥ïÂæóÂà∞ÂØπÂ∫îÁöÑ IPÔºàÂ¶Ç‰∏ãÂõæÁªøÊ†áÁöÑ no such name‰ø°ÊÅØÔºâÔºå‰πüÂç≥ÔºåËøôÊù°ÈÄöË∑ØÊä•Èîô‰∫Ü„ÄÇ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193548913.png"
width="1460"
height="417"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193548913_hudb0998eb8594acbbb17fa82290a0d41f_620412_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193548913_hudb0998eb8594acbbb17fa82290a0d41f_620412_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="350"
data-flex-basis="840px"
>&lt;/p>
&lt;p>ÈÇ£‰πà clash ‰ºöÂ¶Ç‰ΩïÂ§ÑÁêÜËøô‰∏™ËØ∑Ê±ÇÂë¢Ôºü&lt;/p>
&lt;p>clash ParseRule ÁöÑË°åËøõÁ≠ñÁï•ÊòØ &lt;code>for-loop with switch-case&lt;/code>ÔºåËäÇÂèñ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ËäÇÂèñ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="nx">idx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">line&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">rulesConfig&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parsed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parseErr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">ParseRule&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ruleName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">params&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">subRules&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">parseErr&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%s[%d] [%s] error: %s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">format&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">idx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">line&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parseErr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ËäÇÂèñ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">ParseRule&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ruleName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">params&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">subRules&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">][]&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Rule&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">parsed&lt;/span> &lt;span class="nx">C&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Rule&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parseErr&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="nx">ruleName&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;DOMAIN&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parsed&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">RC&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewDomain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;GEOSITE&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parsed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parseErr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">RC&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewGEOSITE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;GEOIP&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">noResolve&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">RC&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">HasNoResolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parsed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parseErr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">RC&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewGEOIP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">noResolve&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;MATCH&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parsed&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">RC&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewMatch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parseErr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parseErr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;unsupported rule type %s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">parseErr&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parseErr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>clash ‰ªé‰∏äËá≥‰∏ãÈÄêË°åËØªÂèñ rulesÔºåÊØè‰∏™ËßÑÂàôÈõÜÈÉΩ‰ºöËøõÂÖ•Âà∞‰∏Ä‰∏™ case Â≠ê‰∏öÂä°ÈìæË∑ØÔºåÊàë‰ª¨ËøôÈáåËøõÂÖ•ÁöÑÊòØ &lt;strong>GEOIP&lt;/strong> ÁöÑ caseÔºåÂÆÉÈ¶ñÂÖà‰ºöËØÜÂà´ÊòØÂê¶Â≠òÂú® &lt;em>&lt;strong>no-resolve&lt;/strong>&lt;/em> Ê†áËØÜÔºåÂÜç‰ª•Ê≠§ÂÜ≥ÂÆö NewGEOIP ÁöÑÂÖ∑‰ΩìË°å‰∏∫„ÄÇGEOIP ÁöÑËßÑÂàôÂåπÈÖçÊµÅÁ®ãÊ≠§Â§Ñ‰∏çËøáÂ§öËµòËø∞ÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂ∞è‰ºô‰º¥ÂèØ‰ª•Ëá™Ë°åÁøªÈòÖÊ∫êÁ†Å„ÄÇ&lt;/p>
&lt;p>ÈÇ£‰πàÔºåÊ†πÊçÆÊàë‰ª¨ÂÖàÂâçÁöÑËÆ®ËÆ∫ÔºåËøôÈáåÁöÑ parseErr ÂøÖÁÑ∂ÊòØ‚ÄúÊúâÂÜÖÂÆπÁöÑ‚ÄùÔºå‰πüÂç≥&lt;strong>Ëøô‰∏™ÈîôËØØ‰º†ÈÄíÂà∞‰∏äÂ±ÇÁöÑ for Âæ™ÁéØÂêé‰ºö‰∏≠Êñ≠Âæ™ÁéØÔºå‰ΩøÂæóÁ®ãÂ∫è‰∏ç‰ºöË°åËøõÂà∞‰∏ã‰∏ÄÊù° rule&lt;/strong>Ôºå‰πüÂç≥ &lt;code>DOMAIN,api.dida36768990.com,DIRECT&lt;/code> „ÄÇ&lt;/p>
&lt;p>Êç¢Âè•ËØùËØ¥ÔºåÂΩìÊàë‰ª¨ËØïÂõæÂ∞Ü &lt;code>api.dida36768990.com&lt;/code>ÊâÄÂØπÂ∫îÁöÑ IP ‰∏éËßÑÂàôÈõÜ &lt;code>GEOIP,CN,PROXY&lt;/code> ËøõË°åÈÖçÂØπÊó∂ÈÅáÂà∞‰∫ÜÈîôËØØÔºåËøô‰∏™ÈîôËØØÈ¶ñÂÖà‰∏≠Êñ≠ÂåπÈÖçË°åËøõÔºåÊâìÂç∞ÈîôËØØÊó•ÂøóÔºåÈöèÂêéÂêë‰∏ä‰∏ÄÁõ¥‰º†ÂØºËá≥ main Êé•Âè£ÔºåÊ≤øÈÄîËß¶ÂèëÊâÄÊúâÁöÑ warning + Á∫ßÂà´ÁöÑÊó•ÂøóË≠¶Âëä„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193605977.png"
width="1460"
height="206"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193605977_huf2ed1aa4b0b2d2c5b2dace11891aaf99_131361_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193605977_huf2ed1aa4b0b2d2c5b2dace11891aaf99_131361_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="708"
data-flex-basis="1700px"
>&lt;/p>
&lt;h4 id="ËßÑÂàôÊ®°Âºè---ip-ËßÑÂàôÁöÑËß£Êûê---È™åËØÅ">ËßÑÂàôÊ®°Âºè - IP ËßÑÂàôÁöÑËß£Êûê - È™åËØÅ&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>GEOIP &lt;em>no-resolve&lt;/em> only, REQUEST GET &lt;code>api.dida365.com&lt;/code> + &lt;code>api.dida36768990.com&lt;/code>&lt;/p>
&lt;p>Ë∑≥Ëøá GEOIP ÁöÑÊú¨Âú∞ÂüüÂêçËß£ÊûêÔºåÁõ¥Êé•ËøõÂÖ•‰∏ã‰∏Ä‰∏™ËßÑÂàôÈõÜÁöÑÂåπÈÖç&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">119.29.29.29&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida365.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida36768990.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">180.76.76.76&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,CN,DIRECT,no-resolve&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193635868.png"
width="1460"
height="108"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193635868_hu29dbd62f1b5cb17ba426b12dee120033_18562_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193635868_hu29dbd62f1b5cb17ba426b12dee120033_18562_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="1351"
data-flex-basis="3244px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>GEOIP &lt;em>no-resolve &amp;amp;&amp;amp; DOMAIN,&lt;/em> REQUEST GET &lt;code>api.dida365.com&lt;/code> + &lt;code>api.dida36768990.com&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">119.29.29.29&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida365.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;api.dida36768990.com&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">180.76.76.76&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,CN,DIRECT,no-resolve&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida36768990.com,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN,api.dida365.com,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ë∑≥Ëøá„ÄåËÆøÈóÆÂüüÂêçÈÅáÂà∞ GEOIP ËßÑÂàôÊú¨ËØ•ËøõË°åÁöÑÊú¨Âú∞ DNS Ëß£Êûê„ÄçÁõ¥Êé•ËøõÂÖ•‰∏ã‰∏Ä‰∏™ËßÑÂàôÈõÜÁöÑÂåπÈÖçÔºåÊé•‰∏ãÊù•ÁöÑ‰∏§Êù°&lt;strong>Áõ¥ËøûÂüüÂêçËßÑÂàô&lt;/strong>ÁöÑÊÉÖÂÜµÂ±û‰∫éÂ∑≤ËÆ®ËÆ∫ËøáÁöÑÊ≠£Â∏∏ÊÉÖÂÜµÔºå‰πüÂç≥ÔºåÂèëËµ∑Êú¨Âú∞ DNS ËØ∑Ê±Ç„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193647978.png"
width="1460"
height="407"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193647978_hu67870031026e59b44c3eba42446defdc_575102_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193647978_hu67870031026e59b44c3eba42446defdc_575102_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="358"
data-flex-basis="860px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËßÑÂàôÊ®°Âºè - ÂêëÂÖ®Â±ÄËøáÊ∏°&lt;/p>
&lt;p>‰øÆÊîπ rules&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193704407.png"
width="1460"
height="96"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193704407_hub76f8e495285eacea77f5471c597eac7_17848_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193704407_hub76f8e495285eacea77f5471c597eac7_17848_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="1520"
data-flex-basis="3650px"
>&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193711612.png"
width="1460"
height="490"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193711612_hu3f820a12da0ac190aa52f04559d24a69_91050_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193711612_hu3f820a12da0ac190aa52f04559d24a69_91050_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="297"
data-flex-basis="715px"
>&lt;/p>
&lt;p>ËøôËøë‰ºº‰∫éÂÖ®Â±ÄÔºà‰ª£ÁêÜÔºâÊ®°ÂºèÔºåÊâÄÊúâÁªèÁî± clash ÁöÑËØ∑Ê±ÇÈÉΩË¢´ÂëàÈÄíÂà∞ËøúÁ®ãÊúçÂä°Âô®ÔºåDNSËß£ÊûêÁî±ËøúÁ®ãÊúçÂä°Âô®ÂÆåÊàêÔºåÊú¨Âú∞Êâ´‰∏çÂà∞ÁªèÁî± clash DNS ÁöÑËØ∑Ê±ÇÁ∫™ÂΩï„ÄÇ&lt;/p>
&lt;h4 id="ÂÖ®Â±ÄÊ®°Âºè---ÂÖ®Â±Ä‰ª£ÁêÜÂÖ®Â±ÄÁõ¥Ëøû‰∏éÂÖ®Â±ÄÊãíÁªù">ÂÖ®Â±ÄÊ®°Âºè - ÂÖ®Â±Ä‰ª£ÁêÜÔºåÂÖ®Â±ÄÁõ¥Ëøû‰∏éÂÖ®Â±ÄÊãíÁªù&lt;/h4>
&lt;p>ËØ•Ê®°Âºè‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•ÊåáÂÆöÊâÄÊúâËØ∑Ê±ÇÈÉΩ ‰ª£ÁêÜ/DIRECT/REJECT„ÄÇÂÖ∂‰∏≠Ôºå‰ª£ÁêÜÂèØ‰ª•ÁªÜÂàÜ‰∏∫Êüê‰∏™‰ª£ÁêÜÁªÑÊàñÊüê‰∏™‰ª£ÁêÜËäÇÁÇπ„ÄÇ&lt;/p>
&lt;p>&lt;em>&lt;strong>‰ª£ÁêÜ&lt;/strong>&lt;/em>ÔºöÊâÄÊúâÁªèÁî± clash ÁöÑËØ∑Ê±ÇÈÉΩË¢´ÂëàÈÄíÂà∞ËøúÁ®ãÊúçÂä°Âô®ÔºåDNSËß£ÊûêÁî±ËøúÁ®ãÊúçÂä°Âô®ÂÆåÊàêÔºåÊú¨Âú∞Êâ´‰∏çÂà∞ DNS ËØ∑Ê±ÇÁ∫™ÂΩï„ÄÇÂÖ∑‰ΩìÁî±Âì™‰∏™ÊúçÂä°Âô®Â§ÑÁêÜËØ∑Ê±ÇÂèñÂÜ≥‰∫é‰Ω†ÁöÑÈÖçÁΩÆ„ÄÇ&lt;/p>
&lt;p>&lt;em>&lt;strong>DIRECT&lt;/strong>&lt;/em>ÔºöÊâÄÊúâÁªèÁî± clash ÁöÑËØ∑Ê±ÇÈÉΩ‰ªéÊú¨Âú∞ÂèëÂá∫ÔºåDNSËß£ÊûêË°å‰∏∫Áî± dns Â≠óÊÆµÂÆö‰πâÁöÑÁ≠ñÁï•ÂÜ≥ÂÆöÔºåÊú¨Âú∞ÂèØ‰ª•Êâ´Âà∞Êú™Âä†ÂØÜÁöÑÁ∫™ÂΩï„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193735385.png"
width="1460"
height="193"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193735385_hua739caf696c3c3288b1a1e9964c5668e_261736_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715193735385_hua739caf696c3c3288b1a1e9964c5668e_261736_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="756"
data-flex-basis="1815px"
>&lt;/p>
&lt;p>&lt;em>&lt;strong>REJECT&lt;/strong>&lt;/em>: ÊâÄÊúâÁªèÁî± clash ÁöÑËØ∑Ê±ÇÈÉΩË¢´Áî©ÂÖ•ÈªëÊ¥ûÔºåÊ≠§Êó∂‰Ω†ËÆøÈóÆ‰ªª‰ΩïÁΩëÁ´ôÈÉΩ‰ºöÊòæÁ§∫ &lt;em>ERR_CONNECTION_CLOSED&lt;/em> ÁöÑË≠¶ÂëäÔºåËôΩÁÑ∂ËøôÂπ∂‰∏çÊÑèÂë≥ÁùÄ‰Ω†Ê≤°Ê≥ï‰∏äÁΩëÔºå‰ΩÜËá≥Â∞ë‰Ω†ÊµèËßàÂô®ÊòØÊ≤°Ê≥ïÁî®‰∫Ü„ÄÇü•πÂêåÂÖ®Â±Ä‰ª£ÁêÜÔºåÊ≠§Êó∂ DNS ÈÖçÁΩÆ‰∏çËµ∑‰ΩúÁî®„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûú‰∏é‰∏ä‰∏ÄËäÇÂÜÖÂÆπ‰ΩúÊØîËæÉÔºå‰Ω†ÂèØ‰ª•ËøôÊ†∑ÁêÜËß£Ôºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÂÖ®Â±Ä‰ª£ÁêÜÔºà‰ΩøÁî®Âêç‰∏∫ PROXY ÁöÑ‰ª£ÁêÜÁªÑÔºâ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,DIRECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÂÖ®Â±ÄÁõ¥Ëøû&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,REJECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÂÖ®Â±ÄÊãíÁªù&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>Best Practices - DNS ÂàÜÊµÅÈÖçÁΩÆ&lt;/p>
&lt;p>ÊÉ≥Âï•Âë¢üéÉÊâçÂºÄÂßãËøõÈò∂ÊÄé‰πà‰ºöÊúâÊúÄ‰Ω≥ÂÆûË∑µÈÖçÁΩÆ&lt;/p>
&lt;p>ÊÉ≥Âï•Âë¢üêßÊàë‰ª¨ËøòÊ≤°ÂºÄÂßã &lt;strong>&amp;lt;Âõ∞Èöæ&amp;gt;&lt;/strong> Âíå &lt;strong>&lt;?>&lt;/strong> Á´†ËäÇÂÜÖÂÆπÁöÑ‰ªãÁªç~&lt;/p>
&lt;p>‰∏çËøáÔºåÊàë‰ª¨ÊòØÊó∂ÂÄôÊù•‰∏™Èò∂ÊÆµÊÄßÁöÑÊúÄ‰Ω≥ÂÆûË∑µÊÄªÁªì‰∫ÜÔºåÂêéÁª≠‰ªãÁªçÁöÑÂÜÖÂÆπ‰πü‰∏ç‰ºöÂíåÂ¶Ç‰∏ãÁªìËÆ∫ÂÜ≤Á™Å„ÄÇ&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ÁºñÊéí rules ËßÑÂàôÊó∂ÔºåÂÖàÂÜôÂüüÂêçÂåπÈÖçÂÜçÂÜô IP ÂåπÈÖçÔºåÊúÄÂêé &lt;code>MATCH&lt;/code> ÂÖúÂ∫ï„ÄÇ&lt;/p>
&lt;p>ÈªòËÆ§Âá∫Á´ôÈÄâÊã© PROXY ËøòÊòØ DIRECT ÂèñÂÜ≥‰∫é‰Ω†ÁöÑÊÄßÁôñ‰∏äÁΩë‰π†ÊÉØÔºåËøõËÄåÂÜ≥ÂÆöÈÄâÊã© ÁôΩÂêçÂçï ËøòÊòØ ÈªëÂêçÂçï ÁöÑÁºñÊéíÊñπÊ°à„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>MATCH,PROXY&lt;/code> ÂÖúÂ∫ïÔºåÂª∫ËÆÆÈÅµ‰ªéÂ¶Ç‰∏ä rules ÊúÄ‰Ω≥ÂÆûË∑µÁöÑÂâçÊèê‰∏ãÔºåÂÖàÁºñÊéí PROXY Âá∫Á´ôËßÑÂàôÂÜçÁºñÊéí DIRECT Âá∫Á´ôËßÑÂàô&lt;/li>
&lt;li>&lt;code>MATCH,DIRECT&lt;/code> ÂÖúÂ∫ïÔºåÂèç‰πã„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‰ºòÂÖà‰ΩøÁî® RULE-SETÔºåÂè™ÈúÄÊ∑ªÂä†Êú™Âú®‰∏äÊ∏∏ËßÑÂàôÈõÜ‰∏≠Âá∫Áé∞ÁöÑËßÑÂàô„ÄÇ&lt;/p>
&lt;p>Â∞ΩÁÆ°ÁõÆÂâçËøô‰∫õËßÑÂàôÈõÜËá≥Â∞ëÊúâÂá†ÂçÅ‰∏áÊù°Êï∞ÊçÆÔºå‰ΩÜÂú®Á≤æÂøÉËÆæËÆ°ÁöÑ Mapping Á≠ñÁï•‰∏ãÔºåËßÑÂàôÂåπÈÖçÁöÑËÄóÊó∂ÊòØÂøΩÁï•‰∏çËÆ°ÁöÑ„ÄÇ&lt;/p>
&lt;p>Ê≠§Â§ñÔºå‰Ω†ÂèØËÉΩÈúÄË¶ÅÂ∞ÜËøôÊù°ËßÑÂàô &lt;code>RULE-SET,applications,DIRECT&lt;/code> Ê∑ªÂä†Âà∞‰Ω†ÁöÑ rules È¶ñË°å„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂΩìËÆøÈóÆÂüüÂêçÈÅáÂà∞ &lt;strong>IP ËßÑÂàô&lt;/strong> Êàñ &lt;strong>ÂüüÂêçÁõ¥ËøûËßÑÂàô&lt;/strong>Êó∂ÔºåÊú¨Âú∞ÂèëËµ∑ DNS ËØ∑Ê±Ç„ÄÇ&lt;/p>
&lt;p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºå‰Ω†Ê∑ªÂä†ÁöÑ classical RULE-SET ÂèØËÉΩ‰πüÂåÖÂê´ÂüüÂêçÁõ¥ËøûËßÑÂàô‰ª•Âèä IP ËßÑÂàô&lt;/p>
&lt;/li>
&lt;li>
&lt;p>clash DNS Mapping&lt;/p>
&lt;ul>
&lt;li>‰ΩøÁî® &lt;em>nameserver-policy&lt;/em> Âíå &lt;em>nameserver&lt;/em> Ëß£ÊûêÊàë‰ª¨Âç≥Â∞ÜËÆøÈóÆÁöÑÂüüÂêçÔºåÂâçËÄÖ‰ºòÂÖàÂêØÂä®„ÄÇ&lt;/li>
&lt;li>ÈúÄË¶Å‰ΩøÁî® &lt;em>default-nameserver&lt;/em> Ëß£Êûê‰∏äËø∞‰∏§‰∏™Á≠ñÁï•ÁªÑ‰∏≠ÁöÑÂüüÂêçÔºå‰πüÂç≥Ôºå&lt;em>default-nameserver&lt;/em> ÈúÄË¶Å‰ΩøÁî® IP ÂÜôÊ≥ïÔºàÂèØ‰ª•ÊòØ IP ÂΩ¢ÂºèÁöÑ DOHÔºâÔºåÈÅøÂÖçÂá∫Áé∞È∏°ËõãÈóÆÈ¢ò„ÄÇ&lt;/li>
&lt;li>Ëøô‰∏â‰∏™Á≠ñÁï•ÁªÑÁöÑÁΩëÁªúËØ∑Ê±ÇÊòØÂπ∂ÂèëË°åËøõÁöÑ„ÄÇÂ¶ÇÊûúÂ≠òÂú®Â§ö‰∏™Âπ∂ÂèëÊü•ËØ¢Ôºåclash ‰ºòÂÖàÈááÁî®ÊúÄÈÄüÂìçÂ∫îÁöÑ IP ‰Ωú‰∏∫ÂüüÂêçÁöÑÊü•ËØ¢ÁªìÊûú„ÄÇ&lt;/li>
&lt;li>‰∏çÂøÖ‰øÆÊîπÔºàË¶ÜÁõñÔºâÈªòËÆ§ÁöÑ &lt;em>default-nameserver&lt;/em>ÔºåËÄå &lt;em>nameserver-policy&lt;/em> Âíå &lt;em>nameserver&lt;/em> Â∞ΩÂèØËÉΩ‰ΩøÁî® IP ÂΩ¢ÂºèÁöÑ DOHÔºåÁúÅÂéªËøô‰∏™Èó¥Êé•ÁöÑËß£ÊûêÊ≠•È™§„ÄÇ&lt;/li>
&lt;li>Âú®ËÆæÁΩÆ &lt;em>nameserver-policy&lt;/em> Âíå &lt;em>nameserver&lt;/em> Êó∂‰ΩøÁî® DOHÔºåËÄåÈùû DOT/DOQ„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>Êàë‰ª¨ÂèØ‰ª•Âá≠ÂÄü‰∏äËø∞ÁâπÊÄßÁªÑÂêàÂá∫„ÄåÂõΩÂ§ñDNS„ÄçÂíå„ÄåÁõ¥ËøûDNS„ÄçÁöÑÊ¶ÇÂøµÔºå‰Ω†ÂèØ‰ª•ËØ¥ËøôÊòØ‰∏Ä‰∏™Á≤æÂ¶ôÁöÑÂ∑ßÂêàÔºå‰ΩÜ‰πüÂèØ‰ª•ËØ¥ËøôÊòØÁ§æÂå∫Êô∫ÊÖßÁöÑÁªìÊô∂„ÄÇ&lt;/p>
&lt;h4 id="public-dns---Â∑≤Áü•ÁöÑ-dns-Êèê‰æõÂïÜ">Public DNS - Â∑≤Áü•ÁöÑ DNS Êèê‰æõÂïÜ&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/QIN2DIM/tuic-installer/wiki/%e5%85%ac%e6%9c%89-DNS-%e6%b1%87%e6%80%bb-DOT-DOH-DOQ" target="_blank" rel="noopener"
>ÂÖ¨Êúâ DNS Ê±áÊÄª DOT DOH DOQ ¬∑ QIN2DIM/tuic-installer&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://adguard-dns.io/kb/zh-CN/general/dns-providers/#default" target="_blank" rel="noopener"
>Â∑≤Áü•ÁöÑ DNS Êèê‰æõÂïÜ | AdGuard DNS Knowledge Base &lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ÂéüÁêÜÁØá">ÂéüÁêÜÁØá&lt;/h2>
&lt;blockquote>
&lt;p>üí°Let&amp;rsquo;s analyze this systematically.&lt;/p>
&lt;/blockquote>
&lt;h3 id="clash-flow---dns">Clash flow - DNS&lt;/h3>
&lt;p>ÊµÅÁ®ãÂõæ&lt;/p>
&lt;h3 id="clash-flow---proxy">Clash flow - Proxy&lt;/h3>
&lt;p>ÊµÅÁ®ãÂõæ&lt;/p>
&lt;h2 id="Ê≥ÑÊºèÁØá">Ê≥ÑÊºèÁØá&lt;/h2>
&lt;h3 id="dns-Ê≥ÑÊºè---Ê¶ÇÂøµÁïåÂÆö">DNS Ê≥ÑÊºè - Ê¶ÇÂøµÁïåÂÆö&lt;/h3>
&lt;ol>
&lt;li>Áî®Êà∑ÂºÄÂêØ VPN ÂêéÔºåÊ≠£Â∏∏ÁΩë‰∏äÂÜ≤Êµ™‰∫ßÁîüÁöÑ DNS ËØ∑Ê±ÇË¢´ &lt;strong>Êú¨Âú∞&lt;/strong> ‰∏äÊ∏∏ ISP ÊçïËé∑„ÄÇ&lt;/li>
&lt;li>Âõ†Ê≠§ÔºåÊú¨Âú∞‰∏äÊ∏∏ ISP Áü•ÈÅì &lt;strong>&amp;lt;Êüê‰∫∫&amp;gt;&lt;/strong> Ë¶ÅËß£ÊûêÁöÑ &lt;strong>&amp;lt;ÊüêÂüüÂêç&amp;gt;&lt;/strong> „ÄÇ&lt;/li>
&lt;/ol>
&lt;h3 id="dns-Ê≥ÑÊºè---‰∫âËÆÆÁÇπ">DNS Ê≥ÑÊºè - ‰∫âËÆÆÁÇπ&lt;/h3>
&lt;h4 id="vpn-ÁöÑ-dns-Ê≥ÑÊºè">VPN ÁöÑ DNS Ê≥ÑÊºè&lt;/h4>
&lt;p>Âú®Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÂºÄÂêØ VPN ÂêéÔºåVPN ËΩØ‰ª∂Â∞ÜÁî®Êà∑ÁöÑ„ÄåËÆøÈóÆËØ∑Ê±Ç„ÄçÂëàÈÄÅËá≥ËøúÁ®ãÊúçÂä°Âô®ÔºåËÆøÈóÆÁΩëÁ´ôÁöÑÂ∑•‰ΩúÁî±ËøúÁ®ãÊúçÂä°Âô®ÂÆåÊàêÔºå‰πüÂç≥ÔºåDNS ËØ∑Ê±ÇÁî±ËøúÁ®ãÊúçÂä°Âô®ÂèëÂá∫„ÄÇ&lt;/p>
&lt;p>Ê≠§Êó∂Âá∫Áé∞‰∫Ü‰∏Ä‰∫õ‰∏çÂèØÊäóÂäõÂõ†Á¥†ÔºåÁî®Êà∑ÂêëÁõÆÊ†áÁΩëÁ´ôÂèëËµ∑‰∫ÜÁõ¥ËøûËØ∑Ê±ÇÔºåÊàñËÄÖËØ¥ÔºåÊú¨Âú∞ÂèëËµ∑‰∫ÜÂêë„ÄåÁ≥ªÁªüÁΩëÂÖ≥ ‚Üí ‰∏äÊ∏∏ ISP„ÄçÁöÑ DNS Êü•ËØ¢„ÄÇÊúâÂèØËÉΩÊòØ VPN ËΩØ‰ª∂Ê≤°ÊúâÂä´ÊåÅÂà∞Ëøô‰∏™ËØ∑Ê±ÇÔºå‰πüÊúâÂèØËÉΩÊòØÁî®Êà∑ÈÖçÁΩÆÂá∫‰∫ÜÈóÆÈ¢òÔºåÊÄª‰πãÂ∞±ÊòØ DNS ËØ∑Ê±Ç‰∏ç‰ªÖÂèëÂæÄ‰∫Ü VPN Êèê‰æõÁöÑ DNS Ôºå‰πüÂèëÂæÄ‰∫ÜÊú¨Âú∞ ISP„ÄÇ&lt;/p>
&lt;p>In the caseÔºåÂ∞ΩÁÆ°‰Ω†ÈÖçÁΩÆ‰∫Ü DOHÔºå‰ΩÜ‰Ωú‰∏∫Ëß£Êûê DNS ËØ∑Ê±ÇÁöÑ‰∏äÊ∏∏ ISP ÂÆÉÂøÖÁÑ∂ÊòØËÉΩÁúãÂà∞‰Ω†Ë¶ÅËÆøÈóÆÁöÑ ÁΩëÂùÄÔºàÂüüÂêçÔºâÔºå‰∏çÁÑ∂ÂÆÉÊ≤°Ê≥ïÁªô‰Ω†Êü•ËØ¢ÂüüÂêçÂØπÂ∫îÁöÑ IPÔºàDNSÂü∫Êú¨ÂéüÁêÜ‰∏çËøáÂ§öËµòËø∞Ôºâ„ÄÇ&lt;/p>
&lt;h4 id="proxy-ÁöÑ-dns-Ê≥ÑÊºè">Proxy ÁöÑ DNS Ê≥ÑÊºè&lt;/h4>
&lt;p>clash Á≠â‰ª£ÁêÜÊ†∏ÂøÉÂá∫Áé∞‰∫ÜËßÑÂàôÊ®°ÂºèÁöÑËÆæÂÆöÔºåÂú®ÂêàÁêÜÁöÑÈÖçÁΩÆ‰∏ãÔºö&lt;/p>
&lt;ol>
&lt;li>ËÆøÈóÆÂõΩÂÜÖÁ´ôÁÇπÔºàÂ¶Ç &lt;code>geosite:cn&lt;/code>ÔºâÔºåÁõ¥Êé•‰ªéÊú¨Êú∫ÂèëËµ∑ËØ∑Ê±Ç„ÄÇ&lt;/li>
&lt;li>ËÆøÈóÆÊàë‰ª¨Ê†áËÆ∞ÁöÑÁ´ôÁÇπÔºàÂ¶Ç youtubeÔºâÔºåÂàôÂ∞ÜËØ∑Ê±ÇÂëàÈÄÅËá≥ËøúÁ®ãÊúçÂä°Âô®Ôºå‰ª£ÁêÜËÆøÈóÆ„ÄÇ&lt;/li>
&lt;/ol>
&lt;p>ÁªùÂ§ßÂ§öÊï∞Áé©ÂÆ∂‰ΩøÁî®ÁöÑÈÉΩÊòØËßÑÂàôÊ®°Âºè‰∏ãÁöÑÁ≥ªÁªü‰ª£ÁêÜÔºå‰æãÂ¶ÇÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DOMAIN-SUFFIX,youtube.com,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,CN,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;geosite:cn&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;https://223.5.5.5/dns-query&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú®ËøôÁßçÂ∏∏ËßÅÈÖçÁΩÆ‰∏ãÔºåÊàë‰ª¨Áõ¥ËøûËÆøÈóÆÂõΩÂÜÖÁ´ôÁÇπÔºàÂ¶Ç bilibiliÔºâÊâÄ‰∫ßÁîüÁöÑ DNS ËØ∑Ê±ÇÔºåÂøÖÁÑ∂Ë¢´&lt;strong>ÂõΩÂÜÖDNS&lt;/strong> Êèê‰æõÂïÜÊçïËé∑„ÄÇËøôÁßçÁÆó &lt;strong>DNS Ê≥ÑÊºè&lt;/strong> ÂêóÔºüÊàëËßâÂæó‰∏çÁÆó„ÄÇ&lt;/p>
&lt;p>Ê†πÊçÆÊàë‰ª¨‰∏äÊñáÊèêÂà∞ÁöÑÂÆö‰πâÔºå&lt;strong>DNSÊ≥ÑÊºèÊåáÁöÑÊòØÊàë‰ª¨‰ΩøÁî®‰ª£ÁêÜËÆøÈóÆ &lt;code>www.youtube.com&lt;/code> ÔºåÂç¥‰ªéÊú¨Âú∞ÂèëÈÄÅ DNS ËØ∑Ê±ÇÂà∞ÂõΩÂÜÖ ISP Êü•ËØ¢ &lt;code>www.youtube.com&lt;/code> ÂØπÂ∫îÁöÑ IP ÔºåÂõ†Ê≠§‰∏äÊ∏∏Áü•ÈÅì‰∫Ü‰Ω†ÊõæËÆøÈóÆÊ≤πÁÆ°„ÄÇ&lt;/strong>&lt;/p>
&lt;p>ÊòæÁÑ∂ÔºåÂú®ÈÖçÁΩÆÊ≠£Á°ÆÁöÑÊÉÖÂÜµ‰∏ã‰∏çÂèØËÉΩÂá∫Áé∞ËøôÁßç‰∫ãÊïÖ Ê†πÊçÆÊàë‰ª¨‰∏äÊñáÁöÑÂÆûÈ™åÁªìËÆ∫ÔºåÂüüÂêçËØ∑Ê±ÇÈÅáÂà∞ÂüüÂêçËßÑÂàôÔºåÂëΩ‰∏≠ËßÑÂàôÂêéÔºåÂ¶ÇÊûúÊòØ‰ª£ÁêÜÂá∫Á´ôÔºåÊàë‰ª¨‰ºöÂ∞ÜËÆøÈóÆËØ∑Ê±ÇÂëàÈÄÅËá≥ËøúÁ®ãÊúçÂä°Âô®ÔºåDNS Êü•ËØ¢Áî±ËøúÁ®ãÊúçÂä°Âô®ÂÆåÊàê„ÄÇ&lt;/p>
&lt;p>‰πüÂç≥ÔºåÂΩì‰Ω†ÈÖçÁΩÆ‰∫Ü &lt;code>DOMAIN-SUFFIX,youtube.com,PROXY&lt;/code> ËøôÊù°ËßÑÂàôÊó∂ÔºåÊú¨Âú∞‰∏ç‰ºöÂèëËµ∑ÂØπ &lt;code>+.youtube.com&lt;/code> ÁöÑÂüüÂêçËß£Êûê„ÄÇÔºàÂÅáËÆæÂ∑≤Á¶ÅÁî®DNSÁ≠ñÁï•ÁªÑÔºâ&lt;/p>
&lt;p>Ëøô‰∏éÊàë‰ª¨ÂÖàÂâçÊèêÂà∞ÁöÑ VPN Ë°å‰∏∫Ê®°Âºè‰∏çÂêå„ÄÇÊàë‰ª¨ÁöÑÊÑèÂõæÂú®‰∫éÔºö&lt;/p>
&lt;ol>
&lt;li>Êàë‰ª¨ÂêØÁî®‰∫ÜËßÑÂàôÊ®°ÂºèÔºåÊó®Âú®ÈÅøÂÖçËøúÁ®ãÊúçÂä°Âô®Â§ÑÁêÜÊàë‰ª¨ÂØπÂõΩÂÜÖÁΩëÁ´ôÁöÑËÆøÈóÆËØ∑Ê±Ç„ÄÇÊàë‰ª¨Â∏åÊúõËÆøÈóÆÂõΩÂÜÖÁΩëÁ´ôËÄå‰ªéÊú¨Âú∞ÂèëËµ∑ÁöÑ „ÄåDNS ËØ∑Ê±Ç„ÄçÁªèËøáÊú¨Âú∞ËøêËê•ÂïÜÔºå‰ª•Ê≠§Ëé∑ÂæóÊõ¥‰ΩéÁöÑÁΩëÁªúÂª∂Ëøü„ÄÇ&lt;/li>
&lt;li>‰∏çÂ∏åÊúõÊú¨Âú∞ËøêËê•ÂïÜÊçïËé∑Âà∞Êàë‰ª¨ÂØπÊ†áËÆ∞ÁΩëÁÇπÔºàÂ¶Ç &lt;code>www.youtube.com&lt;/code>ÔºâÁöÑËÆøÈóÆËØ∑Ê±Ç„ÄÇ&lt;/li>
&lt;/ol>
&lt;p>Êç¢Âè•ËØùËØ¥Ôºå‰∏Ä‰∏™ DNS ËØ∑Ê±ÇËøáÊù•ÔºåËøêËê•ÂïÜÂøÖÁÑ∂Áü•ÈÅìÊúâ‰∫∫Ê≠£Âú®ËÆøÈóÆ &lt;code>www.youtube.com&lt;/code>ÔºåËÄå‰ª£ÁêÜËÆøÈóÆÁöÑÊú¨Ë¥®Âú®‰∫é‰∏çËÆ©ËøêËê•ÂïÜÁü•ÈÅìËÆøÂÆ¢ÁöÑÁúüÂÆûË∫´‰ªΩ„ÄÇ&lt;/p>
&lt;h3 id="dns-Ê≥ÑÊºè---Ê£ÄÊµãÂ∑•ÂÖ∑">DNS Ê≥ÑÊºè - Ê£ÄÊµãÂ∑•ÂÖ∑&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://browserleaks.com/ip" target="_blank" rel="noopener"
>My IP Address - BrowserLeaks&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://ipleak.net/" target="_blank" rel="noopener"
>IP/DNS Detect - What is your IP, what is your DNS, what informations you send to websites. (ipleak.net)&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="dns-Ê≥ÑÊºè---Ê£ÄÊµãÂéüÁêÜ">DNS Ê≥ÑÊºè - Ê£ÄÊµãÂéüÁêÜ&lt;/h3>
&lt;p>Â¶ÇÊûú‰Ω†Ëøò‰∏çÁü•ÈÅì‰ªÄ‰πàÊòØ DNS Ê≥ÑÊºèÂèØ‰ª•‰ªéÂâçÊñáÁúãËµ∑ÔºåÊ≥ÑÊºèÁöÑÂÆö‰πâÂ§ßËá¥Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö&lt;/p>
&lt;ol>
&lt;li>‚úÖÁõ¥ËøûËÆøÈóÆ &lt;a class="link" href="http://bilibili.com" target="_blank" rel="noopener"
>bilibili.com&lt;/a> ÔºåÁî±Êú¨Âú∞ PC Âêë‰∏äÊ∏∏ DNS ÂèëÈÄÅÊü•ËØ¢&lt;/li>
&lt;li>‚úÖ‰ª£ÁêÜËÆøÈóÆ &lt;a class="link" href="http://google.com" target="_blank" rel="noopener"
>google.com&lt;/a>ÔºåÁî±ËøúÁ®ãÊúçÂä°Âô®ÂêëÂõΩÂ§ñ DNS ÂèëÈÄÅÊü•ËØ¢&lt;/li>
&lt;li>‚ùå‰ª£ÁêÜËÆøÈóÆ &lt;a class="link" href="http://google.com" target="_blank" rel="noopener"
>google.com&lt;/a>ÔºåÁî±Êú¨Âú∞ PC Âêë‰∏äÊ∏∏ DNS ÂèëÈÄÅÊü•ËØ¢&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715195243552.png"
width="1460"
height="772"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715195243552_hu966c9fbc6ce7f3424ae165e5d9422d58_436671_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715195243552_hu966c9fbc6ce7f3424ae165e5d9422d58_436671_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="189"
data-flex-basis="453px"
>&lt;/p>
&lt;p>ÂÆûÈ™åÂºÄÂßãÂâçÔºåÁºñÊéíÂ¶Ç‰∏ãËßÑÂàôÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">dns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">223.5.5.5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nameserver-policy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ipleak.net&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">1.0.0.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,CN,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,CN,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">MATCH,PROXY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>‰ª• &lt;a class="link" href="https://ipleak.net" target="_blank" rel="noopener"
>ipleak.net&lt;/a> Áà≤‰æãËØ¥Êòé DNS Ê≥ÑÊºèÊ£ÄÊµãÁöÑÂ∑•‰ΩúÂéüÁêÜ„ÄÇ&lt;/p>
&lt;p>ÂΩì‰Ω†ËÆøÈóÆ DNS Ê≥ÑÊºèÊ£ÄÊµãÁöÑÁ´ôÁÇπÂêéÔºåÂèëÁîü‰∫ÜÂ¶Ç‰∏ã‰∫ã‰ª∂Ôºö&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;code>ipleak.net&lt;/code> ÂêéÁ´ØÊúçÂä°Âô®ÂêëÂâçÁ´ØÈ°µÈù¢‰∏çÊñ≠Êé®ÈÄÅÊñ∞ÁöÑÊï∞ÊçÆÂåÖÔºåËøô‰∫õÊï∞ÊçÆÂåÖÁöÑ Request URL ÈÉΩÊòØ &lt;code>+.ipleak.net&lt;/code> ÂΩ¢ÂºèÔºå‰æãÂ¶ÇÔºö&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715195310133.png"
width="1460"
height="346"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715195310133_hu289f06ccb641c26a062a4aa1c2061a82_159612_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715195310133_hu289f06ccb641c26a062a4aa1c2061a82_159612_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="421"
data-flex-basis="1012px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊµèËßàÂô®ÂèëËµ∑ RequestÂπ∂ÊûÑÈÄ† DNS ËØ∑Ê±ÇÊü•ËØ¢Ëøô‰∫õÂüüÂêçÂØπÂ∫îÁöÑ IP&lt;/p>
&lt;p>ËôΩÁÑ∂Ëøô‰∫õÂüüÂêçÊòØÈöèÊú∫ÁîüÊàêÁöÑÔºå‰ΩÜÂÆÉ‰ª¨ÈÉΩË¢´Ê≠£Á°ÆËß£ÊûêÂà∞ÊúâÊïàÁöÑÂêéÁ´ØÁ´ØÁÇπÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá DNS Êü•ËØ¢Âà∞ Request Domain ÂØπÂ∫îÁöÑÔºàCDNÔºâIP„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715195319858.png"
width="1460"
height="417"
srcset="https://blog.echosec.top/p/dive-into-clash-dns/image-20230715195319858_hu12ef14c98df114824b87e431a300c211_616831_480x0_resize_box_3.png 480w, https://blog.echosec.top/p/dive-into-clash-dns/image-20230715195319858_hu12ef14c98df114824b87e431a300c211_616831_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="350"
data-flex-basis="840px"
>&lt;/p>
&lt;p>ÊòæÁÑ∂ÔºåËøô‰∫õÈöèÊú∫ÁîüÊàêÁöÑÂüüÂêç‰∏çÂèØËÉΩÂ≠òÂú®‰∫é‰ªª‰Ωï GEOSITEÔºåRULE-SET Êï∞ÊçÆÂ∫ì‰∏≠ÔºàÈ°πÁõÆÁª¥Êä§ËÄÖ‰πü‰∏ç‰ºöÊ∑ªÂä†Ëøô‰∫õÁâπÊÆäÁöÑÂüüÂêçÔºâ‰πüÂ∞±ÊòØËØ¥ÔºåËøô‰∫õËÆøÈóÆËØ∑Ê±ÇËøõÂÖ• clash ÂêéÔºåËµ∞ÁöÑ‰∏ÄÂÆöÊòØÂÖúÂ∫ïÁöÑ &lt;code>MATCH,PROXY&lt;/code> ËßÑÂàôÔºàÈô§Èùû‰Ω†Êää &lt;code>ipleak.net&lt;/code> Ëøô‰∏™ÂüüÂêçÈÖçÁΩÆÂà∞ËßÑÂàôÈáå‰∫Üü•πÔºâ„ÄÇ&lt;/p>
&lt;p>Êàë‰ª¨ÈÄöÂ∏∏‰ºöÊääÂÖúÂ∫ïËßÑÂàôÂÜôÂú®ÊúÄÂêé‰∏ÄË°åÔºåÊÑèÂë≥ÁùÄÊØè‰∏™ËÆøÈóÆËØ∑Ê±ÇÈÉΩ‰ºöÊää‰Ω†ÁöÑ &lt;em>rules&lt;/em> Êâ´‰∏ÄÈÅç„ÄÇÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåÊ≤øÈÄîÈÅáÂà∞ÁöÑÈ¶ñÊù° IP ËßÑÂàôÔºà‰æãÂ¶ÇÊàë‰ª¨ÈÖçÁΩÆÁöÑ &lt;code>GEOIP&lt;/code>Ôºâ‰ºöËß¶ÂèëÊú¨Âú∞ DNS Ëß£ÊûêÔºå„Äå‰Ω†ÈÖçÁΩÆÁöÑ DNS ÁöÑ‰∏äÊ∏∏DNS„Äç‰ª•ÂèäÊúÄÁªàÊµÅÂêëÁöÑ„ÄåÊùÉÂ®ÅÂüüÂêçÊúçÂä°Âô®„ÄçÁöÑ Server IP ‰ºöË¢´ÂüüÂêçÊ£ÄÊµãÁΩëÁ´ôËÆ∞ÂΩï‰∏ãÊù•ÔºåÊúÄÁªàÊâìÂç∞Âà∞ÂâçÁ´ØÈ°µÈù¢‰∏ä„ÄÇ&lt;/p>
&lt;p>ËÆøÈóÆËØ∑Ê±ÇÊúÄÂêéÂëΩ‰∏≠ &lt;code>MATCH,PROXY&lt;/code> ‰ª£ÁêÜÂá∫Á´ôËßÑÂàôÔºåÊâÄ‰ª•ËøúÁ®ãÊúçÂä°Âô®ÂøÖÁÑ∂ÂèëËµ∑ DNS Êü•ËØ¢ËØ∑Ê±ÇÔºå‰πüÂç≥ÔºåÂú®ÂºÄÂêØ‰ª£ÁêÜÁöÑÊÉÖÂÜµ‰∏ãÔºåÂâçÁ´ØÈ°µÈù¢‰ºöÊâìÂç∞Âá∫ËêΩÂú∞Êú∫ÊâÄÂú®Âå∫ÂüüÁöÑÂõΩÊóó‰ª•ÂèäËêΩÂú∞Êú∫‰∏äÊ∏∏ ISP DNS ‰ø°ÊÅØ „ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Áõ¥ËøûËÆøÈóÆ - Ê≠£Â∏∏ÊÉÖÂÜµ&lt;/p>
&lt;p>Â¶ÇÊûú‰Ω†Ê≤°ÁêÜËß£ÊàëÂàöËØ¥ÁöÑ‰∏úË•øÔºå‰Ω†ÂèØ‰ª•Â∞ùËØï‰∏ç‰ΩøÁî®‰ª£ÁêÜÁõ¥Êé•ËÆøÈóÆ &lt;code>ipleak.net&lt;/code>Ôºå‰Ω†ÂèØ‰ª•ÁúãÂà∞È°µÈù¢Ë¢´ÂõΩÊóóÂà∑Â±è‰∫Ü„ÄÇËøô‰∫õ IP Êù•Ëá™‰Ω†ÈÄâÁî®ÁöÑ DNS ‰ª•Âèä‰Ω†‰∏äÊ∏∏ÁöÑ ISP DNS„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ª£ÁêÜËÆøÈóÆ - Ê≠£Â∏∏ÊÉÖÂÜµ&lt;/p>
&lt;p>DNS ËØ∑Ê±ÇÁî±ËøúÁ®ãÊúçÂä°Âô®ÂèëËµ∑ÔºåËøúÁ®ãÊúçÂä°Âô®‰πü‰ºöÊúâËá™Â∑±ÁöÑÁ≥ªÁªü DNS Âíå‰∏äÊ∏∏ ISPÔºåÂú®Ê≤°ÊúâÁâπÊÆäËÆæËÆ°ÁΩëÂÖ≥ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰Ω†ËÉΩÁúãÂà∞ &lt;code>ipleak.net&lt;/code> È°µÈù¢‰∏ä‰∏çÊñ≠Âà∑Âá∫ËøúÁ®ãÊúçÂä°Âô®ÊâÄÂú®Âú∞Âå∫ÁöÑÂõΩÊóó‰ª•ÂèäÁî±ËøúÁ®ãÊúçÂä°Âô®ÂèëËµ∑ÁöÑ DNS ËØ∑Ê±ÇÁªèËøáÁöÑ server IP„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûú‰Ω†ÁöÑËøúÁ®ãÊúçÂä°Âô®ÁΩëÁªúÁéØÂ¢ÉÊØîËæÉÁâπÊÆäÔºå‰Ω†‰ºöÁúãÂà∞Êù•Ëá™Â§ö‰∏™ÂõΩÂÆ∂ÂíåÂú∞Âå∫ÁöÑ server IP„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ª£ÁêÜËÆøÈóÆ - ÂºÇÂ∏∏ÊÉÖÂÜµ&lt;/p>
&lt;p>Â¶ÇÊûúÊ£ÄÊµãÁ´ôÁÇπËÉΩÂ§üÈÄöËøáËÆ∞ÂΩï DNS server IP ÁöÑÊñπÂºèËøîÂõûÂèëÈÄÅÁ´Ø PC ÁöÑÁúüÂÆûÊâÄÂú®Âú∞ÔºåËØ¥ÊòéÂèëÁîü‰∫Ü DNS Ê≥ÑÊºè„ÄÇ&lt;/p>
&lt;p>&lt;strong>ËøôÈáåÂä†‰∫ÜË∂ÖÈïøÁöÑÂÆöËØ≠Ôºö&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>‚úÖÊú¨Âú∞Ê≤°ÊúâÂèëËµ∑ DNS Êü•ËØ¢Ôºå‰∏çÂèØËÉΩÂ≠òÂú®Ê≥ÑÊºè&lt;/li>
&lt;li>üö´Êú¨Âú∞ÂèëËµ∑ DNS Êü•ËØ¢Ôºå‰ΩøÁî®Á≥ªÁªü DNS ÊàñÂõΩÂÜÖ DNSÔºåËÉΩÂ§üÈÄöËøá‰∏âË¶ÅÁ¥†ÂÆö‰ΩçËøòÂéüÂá∫ zero ÂèëÈÄÅÁ´ØÁöÑÂ§ßËá¥‰ΩçÁΩÆ„ÄÇ‰æãÂ¶Ç &lt;code>ipleak.net&lt;/code> Á≠âÂÖ¨ÊúâÊúçÂä°Êèê‰æõÁöÑÁ≤óÁ≥ôÂÆö‰ΩçËÉΩÂ§üÊòæÁ§∫ÂõΩÊóóÔºå‰ΩÜÊòæÁÑ∂ÊúâÊõ¥Á≤æÂØÜÁöÑÊäÄÊúØËÉΩÂ§üÂÅöÂà∞ÁªèÁ∫¨Â∫¶Á∫ßÂà´ÁöÑÂÆö‰Ωç„ÄÇ&lt;/li>
&lt;li>üëÅÔ∏è‚Äçüó®Ô∏èÊú¨Âú∞ÂèëËµ∑ DNS Êü•ËØ¢Ôºå‰ΩÜ‰ΩøÁî®ÁöÑÊòØÁªèËøáÁâπÊÆäËÆæËÆ°ÁöÑ DNS ÊàñÂÖ∂‰ªñÂú∞Âå∫ÁöÑ DNSÔºå‰∏çËÉΩÊàñÂá†‰πé‰∏çÂèØËÉΩÈÄöËøá‰∏âË¶ÅÁ¥†ÂÆö‰ΩçËøòÂéüÂá∫ zero ÂèëÈÄÅÁ´ØÁöÑÂ§ßËá¥‰ΩçÁΩÆ„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>üåÄ&lt;strong>Ëø∑ÊÄù‰∏é‰∫âËÆÆÔºö&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>&lt;code>ipleak.net&lt;/code>Âá∫Áé∞‰∫ÜÂõΩÊóóÔºåÊàëÁöÑÈÖçÁΩÆÂá∫Áé∞Ëá¥ÂëΩÈîôËØØ‰∫ÜÂêóÔºü&lt;/strong>&lt;/p>
&lt;p>&lt;code>ipleak.net&lt;/code> Âá∫Áé∞‰∫Ü‰Ω†ÊâÄÂú®Âú∞ÁöÑÂõΩÊóóÔºåÂπ∂‰∏ç‰ª£Ë°®‰Ω†ËÆøÈóÆ youtube google ÁöÑËØ∑Ê±Ç‰ºöË¢´Êú¨Âú∞ËøêËê•ÂïÜÊà™Ëé∑„ÄÇÊàë‰ª¨‰∏äÊñáÊèêÂà∞ËøáÔºàÂ¶ÇÊûú‰Ω†‰ΩøÁî®ÁöÑÊòØÊú¨ÊñáÊèêÂà∞ÁöÑÈÖçÁΩÆÊàñÊòØ &lt;a class="link" href="https://wiki.metacubex.one/example/#_2" target="_blank" rel="noopener"
>meta Êáí‰∫∫ÈÖçÁΩÆ&lt;/a>ÔºâÔºåÁ±ª‰ººËÆøÈóÆ youtube ÁöÑËØ∑Ê±ÇÂú® IP ËßÑÂàô‰πãÂâçÂøÖÁÑ∂ÂëΩ‰∏≠ &lt;em>PROXY&lt;/em> Âá∫Á´ôËßÑÂàôÔºå Êú¨Âú∞‰∏ç‰ºö‰∫ßÁîüÂØπ &lt;code>youtube.com&lt;/code> ÁöÑ DNS Ëß£ÊûêËØ∑Ê±ÇÔºå‰πüÂ∞±‰∏ç‰ºöÊúâË¢´Êú¨Âú∞ËøêËê•ÂïÜÊà™Ëé∑Ëøô‰∏ÄËØ¥„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûú‰Ω†Âè™ÂÖ≥Ê≥®ËÆøÈóÆ youtube google Á≠âÁΩëÁ´ôÁöÑÊÑèÂõæÊï∞ÊçÆÊºèÊ≤°ÊºèÔºåÈÇ£‰Ω†Ë¢´ &lt;code>ipleak.net&lt;/code> Á≠â‰∏Ä‰ºóÊ£ÄÊµãÁ´ôÁÇπÁàÜËèä‰∫Ü‰πüÊó†‰º§Â§ßÈõÖ„ÄÇ&lt;/p>
&lt;p>‰ΩÜÂøÖÈ°ªËØ¥ÊòéÁöÑÊòØÔºåÂá∫Áé∞‰∫ÜÂõΩÊóóÔºåËØ¥Êòé‰Ω†Âêë‰∏äÊ∏∏ ISP ÂèëËµ∑‰∫ÜÈíàÂØπ„ÄåÊÑèÂ§ñÁ´ôÁÇπ„ÄçÁöÑ DNS ËØ∑Ê±ÇÔºåipleak ËÉΩÂ§üËøòÂéü‰Ω†ÁöÑÊâÄÂú®Âú∞ÔºåËøôÂ±û‰∫é DNS Ê≥ÑÊºèÁöÑËåÉÁï¥„ÄÇ Â¶ÇÊûúÊúâÊüê‰∏™ÁΩëÁ´ôÂÄüÂä© ipleak Á≠âÊ£ÄÊµãÊúçÂä°ËøΩÊ∫ØÂèëÈÄÅÁ´ØÁöÑÂ§ßËá¥ÊúçÂä°Âå∫Ôºå‰Ω†Â§ßÊ¶ÇÁéá‰ºöË¢´Á≤æÁ°ÆÂà∞Â∏ÇÂå∫Á∫ßËøêËê•ÂïÜ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>ipleak.net&lt;/code>Ê≤°ÊúâÂá∫Áé∞ÂõΩÊóóÔºåÊàëÁöÑÈÖçÁΩÆÊ≠£Â∏∏ÂêóÔºü&lt;/strong>&lt;/p>
&lt;p>Â¶ÇÊûú‰Ω†Áî®ÁöÑÊòØ VPNÔºå‰Ω†ÁöÑÈÖçÁΩÆÊ≠£Â∏∏„ÄÇ‰ΩÜ‰Ω†Áî®ÁöÑÊòØ clashÔºåËøô‰∏™ÈóÆÈ¢òÂ≠òÂú®‰∫âËÆÆ„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÔºåËÆøÈóÆ &lt;code>youtube.com&lt;/code> ‰ΩÜ &lt;em>rules&lt;/em> ÈáåÂá∫Áé∞‰∫Ü &lt;code>DOMAIN-SUFFIX,youtube.com,DIRECT&lt;/code> ËøôÁßçÂ•áÊÄ™ÁöÑ‰∏úË•øÔºåÊàñËÄÖÊèêÂâçÈÅáÂà∞‰∫Ü IP ËßÑÂàôÔºåÈÇ£‰πàÔºåÊú¨Âú∞‰ºöÂèëËµ∑ DNS ËØ∑Ê±Ç„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûú‰Ω†Âú® &lt;em>nameserver&lt;/em> ‰∏≠ÈÖçÁΩÆ‰∫Ü &lt;code>https://security.cloudflare-dns.com/dns-query&lt;/code> ËøôÊ†∑ÁöÑÂõΩÂ§ñÔºàÊàñÂÖ∂‰ªñÂú∞Âå∫ÔºâÁöÑ DOHÔºåÊ≥ÑÊºèÊ£ÄÊµãÁ´ôÁÇπÊòØÊó†Ê≥ïËÆ∞ÂΩïÂà∞‰Ω†ÁöÑÁúüÂÆûÊâÄÂú®Âú∞ÁöÑ„ÄÇ&lt;/p>
&lt;p>ÊòæÁÑ∂ÔºåËøôÁßçÊÉÖÂÜµ‰∏éÊàë‰ª¨ÁïåÂÆöÁöÑ DNS Ê≥ÑÊºèÊúâÊâÄÂÜ≤Á™Å„ÄÇ&lt;/p>
&lt;p>Âπø‰πâ‰∏äËÆ≤ÔºåËÆøÈóÆÂ∫îËØ•Ë¢´‰ª£ÁêÜÁöÑÁΩëÁ´ôÁöÑ DNS ËØ∑Ê±ÇÂøÖÈ°ªÁî±ËêΩÂú∞‰ª£ÁêÜ‰∫ßÁîüÔºåËÄåÁúüÊ≠£ÁöÑÂèëÈÄÅÁ´ØË¢´ÈöêËóèËµ∑Êù•„ÄÇÂ¶ÇÊûú‰Ω†ËÆ§‰∏∫Âè™Ë¶ÅËÆøÈóÆË¢´‰ª£ÁêÜÁöÑÁΩëÁ´ôÊó∂ÔºåÊú¨Âú∞ÂèëËµ∑‰∫Ü DNS ËØ∑Ê±ÇÂ∞±ÁÆóÊ≥ÑÊºèÁöÑËØùÔºåËøôÁßçÊÉÖÂÜµÂ±û‰∫é DNS Ê≥ÑÊºèÔºå‰Ω†ÁöÑÈÖçÁΩÆ‰∏çÊ≠£Â∏∏„ÄÇ&lt;/p>
&lt;p>Áã≠‰πâ‰∏äËÆ≤ÔºåÂ¶ÇÊûú‰Ω†ËßâÂæóÂ∞ΩÁÆ°Êú¨Âú∞ÂèëËµ∑‰∫Ü DNS ËØ∑Ê±ÇÔºå‰ΩÜÂè™Ë¶Å‰∏çË¢´Ê≠£Á°ÆÊ∫ØÊ∫êÂ∞±ÂèØ‰ª•Êé•Âèó„ÄÇÈÇ£‰πàÂú®ÂÖºÈ°æÂª∂ËøüÂíåÂÆâÂÖ®ÁöÑÂâçÊèê‰∏ãÔºåÈÄâÊã©ÁªèËøáÁâπÊÆäËÆæËÆ°ÁöÑÂ¢ÉÂ§ñ DOH / DOQ ÊòØ‰∏™‰∏çÈîôÁöÑÈÄâÊã©&lt;a class="link" href="https://www.notion.so/Dive-into-Clash-DNS-a025c9bb5f724972a2ffb7984ae4a6ca?pvs=21" target="_blank" rel="noopener"
>Êü•ÁúãÂ∑≤Áü•ÁöÑÂÖçÂÆ°Êü•ÂÖ¨Êúâ DNS&lt;/a>„ÄÇ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="Â¶Ç‰ΩïÈÅøÂÖç-dns-Ê≥ÑÊºè">Â¶Ç‰ΩïÈÅøÂÖç DNS Ê≥ÑÊºè&lt;/h3>
&lt;h2 id="Ëß¶Á±ªÊóÅÈÄö">Ëß¶Á±ªÊóÅÈÄö&lt;/h2>
&lt;h3 id="tunnel-mode">TUNNEL Mode&lt;/h3>
&lt;h3 id="enhanced-mode">Enhanced Mode&lt;/h3>
&lt;h4 id="dnsmaping">DNSMaping&lt;/h4>
&lt;h4 id="fakeip-clash--meta">FakeIP: Clash &amp;amp; Meta&lt;/h4>
&lt;h4 id="fakedns-v2ray--sing-box">FakeDNS: v2ray &amp;amp; sing-box&lt;/h4>
&lt;h4 id="l3-loss-but-deepin-magic">L3: Loss but deepin magic&lt;/h4>
&lt;h3 id="ËΩØË∑ØÁî±---Áâ©ÁêÜË∂ÖÂ∫¶">ËΩØË∑ØÁî± - Áâ©ÁêÜË∂ÖÂ∫¶&lt;/h3>
&lt;h2 id="‰∏ÄÂè∂Áü•Áßã">‰∏ÄÂè∂Áü•Áßã&lt;/h2>
&lt;h3 id="Â§ÑÁêÜ-squad-eac-ÂèçÂ§ñÊåÇÈ™åËØÅ">Â§ÑÁêÜ Squad EAC ÂèçÂ§ñÊåÇÈ™åËØÅ&lt;/h3>
&lt;h3 id="Ëß£ÈîÅÊµÅÂ™í‰Ωì">Ëß£ÈîÅÊµÅÂ™í‰Ωì&lt;/h3>
&lt;h3 id="ÁªïËøá-chatgpt-ÁΩëÁªúÂÆ°Êü•">ÁªïËøá ChatGPT ÁΩëÁªúÂÆ°Êü•&lt;/h3>
&lt;h2 id="Â§©Â§ñÈ£û‰ªô">Â§©Â§ñÈ£û‰ªô&lt;/h2>
&lt;h3 id="Âü∫‰∫é-rust-ÂÆûÁé∞-pbq-quic-based-Êã•Â°ûÊéßÂà∂ÁÆóÊ≥ï">Âü∫‰∫é Rust ÂÆûÁé∞ PBQ QUIC-based Êã•Â°ûÊéßÂà∂ÁÆóÊ≥ï&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Paper: &lt;a class="link" href="https://www.mdpi.com/1099-4300/25/2/294" target="_blank" rel="noopener"
>„ÄäPBQ-Enhanced QUIC: QUIC with Deep Reinforcement Learning Congestion Control Mechanism„Äã&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>PDF: &lt;a class="link" href="entropy-25-00294-v2.pdf" >entropy-25-00294-v2.pdf&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="clashmeta-ÂèÇËÄÉÈÖçÁΩÆ">Clash.Meta ÂèÇËÄÉÈÖçÁΩÆ&lt;/h2>
&lt;ol>
&lt;li>&lt;a class="link" href="https://wiki.metacubex.one/example/#_2" target="_blank" rel="noopener"
>Meta ÂÆòÊñπÊèê‰æõÁöÑÊáí‰∫∫ÈÖçÁΩÆ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/QIN2DIM/tuic-installer/wiki/Clash.Meta-configuration" target="_blank" rel="noopener"
>Êú¨ÁØáÂçöÂÆ¢ÁöÑÈôÑ‰ª∂&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="whats-more">What&amp;rsquo;s more&lt;/h2>
&lt;h3 id="ÊúØËØ≠Ë°®">ÊúØËØ≠Ë°®&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>clash rules Áõ¥ËøûÔºå‰ª£ÁêÜÔºåÊãíÁªù&lt;/p>
&lt;/li>
&lt;li>
&lt;p>v2fly / sing-box rules Áõ¥ËøûÔºàÁªïËøáÔºâÔºå‰ª£ÁêÜÔºåÈòªÊ≠¢&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DNS&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Clash DNS&lt;/p>
&lt;ol>
&lt;li>nameserver-policy&lt;/li>
&lt;li>default-nameserver&lt;/li>
&lt;li>nameserver&lt;/li>
&lt;li>proxy-server-nameserver&lt;/li>
&lt;li>fake-ip enhancer
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.hostinger.com/tutorials/fqdn#What_is_FQDN" target="_blank" rel="noopener"
>FQDN&lt;/a>&lt;/li>
&lt;li>FakeIP Pool&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>DNS leak&lt;/p>
&lt;p>Ê¶ÇÂøµÁïåÂÆöÔºöÂπø‰πâ„ÄÅÁã≠‰πâ&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://ipleak.net/" target="_blank" rel="noopener"
>http://ipleak.net/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://browserleaks.com/ip" target="_blank" rel="noopener"
>https://browserleaks.com/ip&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>DOH / DOT / DOQ / ODOH&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://adguard-dns.io/en/blog/dns-over-quic.html" target="_blank" rel="noopener"
>https://adguard-dns.io/en/blog/dns-over-quic.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="Ê∫êÁ†ÅÈòÖËØª">Ê∫êÁ†ÅÈòÖËØª&lt;/h3>
&lt;h4 id="ÂàùÂßãÂåñÈÖçÁΩÆ">ÂàùÂßãÂåñÈÖçÁΩÆ&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">UnmarshalRawConfig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">buf&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">RawConfig&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// config with default value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">rawCfg&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">RawConfig&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">AllowLan&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">BindAddress&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPv6&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Mode&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Rule&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeodataMode&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">C&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">GeodataMode&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeodataLoader&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;memconservative&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">UnifiedDelay&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Authentication&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">LogLevel&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">INFO&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Hosts&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="nx">any&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Rule&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Proxy&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="nx">any&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ProxyGroup&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="nx">any&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">TCPConcurrent&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FindProcessMode&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">P&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">FindProcessStrict&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Tun&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">RawTun&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Enable&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Device&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Stack&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">C&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TunGvisor&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DNSHijack&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;0.0.0.0:53&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span> &lt;span class="c1">// default hijack all dns query
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">AutoRoute&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">AutoDetectInterface&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Inet6Address&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">LC&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ListenPrefix&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">LC&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ListenPrefix&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">netip&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">MustParsePrefix&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;fdfe:dcba:9876::1/126&amp;#34;&lt;/span>&lt;span class="p">))},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">TuicServer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">RawTuicServer&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Enable&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Token&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Users&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Certificate&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">PrivateKey&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Listen&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">CongestionController&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">MaxIdleTime&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">AuthenticationTimeout&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ALPN&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;h3&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">MaxUdpRelayPacketSize&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">EBpf&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">EBpf&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">RedirectToTun&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">AutoRedir&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPTables&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">IPTables&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Enable&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">InboundInterface&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;lo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Bypass&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DNS&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">RawDNS&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Enable&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPv6&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">UseHosts&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPv6Timeout&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">EnhancedMode&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">C&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">DNSMapping&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FakeIPRange&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;198.18.0.1/16&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FallbackFilter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">RawFallbackFilter&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeoIP&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeoIPCode&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;CN&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPCIDR&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeoSite&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DefaultNameserver&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;114.114.114.114&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;223.5.5.5&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;8.8.8.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;1.0.0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NameServer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;&amp;lt;https://doh.pub/dns-query&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;tls://223.5.5.5:853&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FakeIPFilter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;dns.msftnsci.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;www.msftnsci.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;www.msftconnecttest.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Sniffer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">RawSniffer&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Enable&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Sniffing&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ForceDomain&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">SkipDomain&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Ports&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ForceDnsMapping&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ParsePureIp&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">OverrideDest&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Profile&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">Profile&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">StoreSelected&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeoXUrl&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">RawGeoXUrl&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Mmdb&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;lt;https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeoIp&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;lt;https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeoSite&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;&amp;lt;https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">yaml&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Unmarshal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">buf&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">rawCfg&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">rawCfg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="dnsmode-alias">DNSMode Alias&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="nx">DNSMode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">String&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="nx">e&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nx">DNSNormal&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;normal&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nx">DNSFakeIP&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;fake-ip&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nx">DNSMapping&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;redir-host&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nx">DNSHosts&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;hosts&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;unknown&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="type-rawdns-struct">type RawDNS struct&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">RawDNS&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Enable&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="s">`yaml:&amp;#34;enable&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">PreferH3&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="s">`yaml:&amp;#34;prefer-h3&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPv6&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="s">`yaml:&amp;#34;ipv6&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPv6Timeout&lt;/span> &lt;span class="kt">uint&lt;/span> &lt;span class="s">`yaml:&amp;#34;ipv6-timeout&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">UseHosts&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="s">`yaml:&amp;#34;use-hosts&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NameServer&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span> &lt;span class="s">`yaml:&amp;#34;nameserver&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Fallback&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span> &lt;span class="s">`yaml:&amp;#34;fallback&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FallbackFilter&lt;/span> &lt;span class="nx">RawFallbackFilter&lt;/span> &lt;span class="s">`yaml:&amp;#34;fallback-filter&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Listen&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="s">`yaml:&amp;#34;listen&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">EnhancedMode&lt;/span> &lt;span class="nx">C&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">DNSMode&lt;/span> &lt;span class="s">`yaml:&amp;#34;enhanced-mode&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FakeIPRange&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="s">`yaml:&amp;#34;fake-ip-range&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FakeIPFilter&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span> &lt;span class="s">`yaml:&amp;#34;fake-ip-filter&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DefaultNameserver&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span> &lt;span class="s">`yaml:&amp;#34;default-nameserver&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NameServerPolicy&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="nx">any&lt;/span> &lt;span class="s">`yaml:&amp;#34;nameserver-policy&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ProxyServerNameserver&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span> &lt;span class="s">`yaml:&amp;#34;proxy-server-nameserver&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="dns-ÈªòËÆ§ÈÖçÁΩÆ">DNS ÈªòËÆ§ÈÖçÁΩÆ&lt;/h4>
&lt;p>&lt;a class="link" href="https://github.com/MetaCubeX/Clash.Meta/blob/8d1251f1287846daf42db4151b707d9f677be5a1/config/config.go#L377" target="_blank" rel="noopener"
>Clash.Meta/config/config.go MetaCubeX/Clash.Meta&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">DNS&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">RawDNS&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Enable&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPv6&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">UseHosts&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPv6Timeout&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">EnhancedMode&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">C&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">DNSMapping&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FakeIPRange&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;198.18.0.1/16&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FallbackFilter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">RawFallbackFilter&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeoIP&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeoIPCode&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;CN&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IPCIDR&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GeoSite&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DefaultNameserver&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;114.114.114.114&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;223.5.5.5&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;8.8.8.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;1.0.0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NameServer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;&amp;lt;https://doh.pub/dns-query&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;tls://223.5.5.5:853&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FakeIPFilter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;dns.msftnsci.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;www.msftnsci.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;www.msftconnecttest.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="type-pool-struct">type Pool struct&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Pool is an implementation about fake ip generator without storage
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">type&lt;/span> &lt;span class="nx">Pool&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gateway&lt;/span> &lt;span class="nx">netip&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">first&lt;/span> &lt;span class="nx">netip&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">last&lt;/span> &lt;span class="nx">netip&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">offset&lt;/span> &lt;span class="nx">netip&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cycle&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mux&lt;/span> &lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Mutex&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">host&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">trie&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">DomainTrie&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kd">struct&lt;/span>&lt;span class="p">{}]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ipnet&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">netip&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Prefix&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">store&lt;/span> &lt;span class="nx">store&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="geositegeoip-Â§ßÂ∞èÂÜô‰∏çÊïèÊÑü">GEOSITEÔºåGEOIP Â§ßÂ∞èÂÜô‰∏çÊïèÊÑü&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Â∞ÜÂõΩÂÆ∂‰ª£Á†ÅËΩ¨ÊàêÂ∞èÂÜôÂêéÂÜçÂåπÈÖç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">LoadGeoSiteMatcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">countryCode&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// -- skip --
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">countryCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ToLower&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">countryCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// -- skip --
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// LAN Áâπ‰æãÔºåÂøÖÈ°ªÂ§ßÂÜôÊâçËÉΩÂåπÈÖçËßÑÂàô
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">LoadGeoIPMatcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">country&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// -- skip --
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">country&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ToLower&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">country&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// -- skip --
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">countryCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ToLower&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">countryCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Êç¢Âè•ËØùËØ¥Ôºå‰ª•‰∏ãÂÜôÊ≥ïÊòØÁ≠â‰ª∑ÁöÑÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,PRIVATE,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOSITE,private,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,cn,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GEOIP,CN,DIRECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="new-tuic">new tuic&lt;/h4>
&lt;p>&lt;a class="link" href="https://github.com/MetaCubeX/Clash.Meta/blob/0b1aff575990ea5816cd24b64757b75dc7368db1/adapter/outbound/tuic.go#L120" target="_blank" rel="noopener"
>NewTuic MetaCubeX/Clash.Meta &lt;/a>&lt;/p>
&lt;h3 id="Â∏∏ËßÅÈóÆÈ¢òÊ±áÊÄª">Â∏∏ËßÅÈóÆÈ¢òÊ±áÊÄª&lt;/h3>
&lt;ol>
&lt;li>Windows DNS Á≠ñÁï•ÁªÑÈóÆÈ¢ò&lt;/li>
&lt;li>‰ΩøÁî® clash ‰∏ÄÈ°øÊìç‰ΩúËøû‰∏ç‰∏äÂÖ¨Âè∏ÂÜÖÁΩë&lt;/li>
&lt;/ol>
&lt;h2 id="reference">Reference&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Loyalsoldier/clash-rules#rule-providers-%e9%85%8d%e7%bd%ae%e6%96%b9%e5%bc%8f" target="_blank" rel="noopener"
>ËßÑÂàô‰∏äÊ∏∏&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://wiki.metacubex.one/config/rules/rule-provider/#rule-set" target="_blank" rel="noopener"
>ËØ≠Ê≥ïËßÑÂàô&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://wiki.metacubex.one/config/dns/diagram/" target="_blank" rel="noopener"
>Clash.Meta ÁöÑ DNS Â∑•‰ΩúÊµÅÁ®ã&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://wiki.metacubex.one/config/dns/#nameserver-policy" target="_blank" rel="noopener"
>ÂüüÂêçÊúçÂä°Âô®Êü•ËØ¢Á≠ñÁï•&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.dnsperf.com/" target="_blank" rel="noopener"
>ÂÖ®ÁêÉÂÖ¨ÊúâDNSÊúçÂä°Âô®ÊÄßËÉΩÊµãËØï&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>